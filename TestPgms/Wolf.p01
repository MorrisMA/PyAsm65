   1    2 	.STACK  1024
   2    4 	.CODE	  1024
   3    6 STATIC_LINK			.EQ	+4
   4    7 RETURN_VALUE		.EQ	-4
   5    8 HIGH_RETURN_VALUE	.EQ	-2
   6  122 i_014	.EQ	-2
   7  123 row_015	.EQ	-4
   8  124 col_016	.EQ	-6
   9  126 initialize_013	.PROC
  10  128 	phx.w
  11  129 	tsx.w
  12  130 	adj #-6
  13  134 	lda #0
  14  135 	sta.w i_014,X
  15  136 L_017
  16  137 	lda #10
  17  138 	cmp.w i_014,X
  18  139 	bge L_018
  19  140 	jmp L_019
  20  141 L_018
  21  143 	psh.w #island_002
  22  144 	lda #0
  23  147 	pha.w
  24  148 	psh.w #22
  25  149 	jsr _imul
  26  150 	adj #4
  27  152 	clc
  28  153 	adc.w 0,S
  29  154 	sta.w 0,S
  30  155 	lda.w i_014,X
  31  158 	asl.w a
  32  160 	clc
  33  161 	adc.w 0,S
  34  162 	sta.w 0,S
  35  163 	lda #5
  36  165 	sta.w (0,S)
  37  166 	adj #2
  38  168 	psh.w #island_002
  39  169 	lda #10
  40  172 	pha.w
  41  173 	psh.w #22
  42  174 	jsr _imul
  43  175 	adj #4
  44  177 	clc
  45  178 	adc.w 0,S
  46  179 	sta.w 0,S
  47  180 	lda.w i_014,X
  48  183 	asl.w a
  49  185 	clc
  50  186 	adc.w 0,S
  51  187 	sta.w 0,S
  52  188 	lda #5
  53  190 	sta.w (0,S)
  54  191 	adj #2
  55  193 	psh.w #island_002
  56  194 	lda.w i_014,X
  57  197 	pha.w
  58  198 	psh.w #22
  59  199 	jsr _imul
  60  200 	adj #4
  61  202 	clc
  62  203 	adc.w 0,S
  63  204 	sta.w 0,S
  64  205 	lda #0
  65  208 	asl.w a
  66  210 	clc
  67  211 	adc.w 0,S
  68  212 	sta.w 0,S
  69  213 	lda #5
  70  215 	sta.w (0,S)
  71  216 	adj #2
  72  218 	psh.w #island_002
  73  219 	lda.w i_014,X
  74  222 	pha.w
  75  223 	psh.w #22
  76  224 	jsr _imul
  77  225 	adj #4
  78  227 	clc
  79  228 	adc.w 0,S
  80  229 	sta.w 0,S
  81  230 	lda #10
  82  233 	asl.w a
  83  235 	clc
  84  236 	adc.w 0,S
  85  237 	sta.w 0,S
  86  238 	lda #5
  87  240 	sta.w (0,S)
  88  241 	adj #2
  89  243 	inc.w i_014,X
  90  244 	jmp L_017
  91  245 L_019
  92  246 	dec.w i_014,X
  93  248 	lda #1
  94  249 	sta.w row_015,X
  95  250 L_020
  96  251 	lda #9
  97  252 	cmp.w row_015,X
  98  253 	bge L_021
  99  254 	jmp L_022
 100  255 L_021
 101  257 	lda #1
 102  258 	sta.w col_016,X
 103  259 L_023
 104  260 	lda #9
 105  261 	cmp.w col_016,X
 106  262 	bge L_024
 107  263 	jmp L_025
 108  264 L_024
 109  266 	psh.w #island_002
 110  267 	lda.w row_015,X
 111  270 	pha.w
 112  271 	psh.w #22
 113  272 	jsr _imul
 114  273 	adj #4
 115  275 	clc
 116  276 	adc.w 0,S
 117  277 	sta.w 0,S
 118  278 	lda.w col_016,X
 119  281 	asl.w a
 120  283 	clc
 121  284 	adc.w 0,S
 122  285 	sta.w 0,S
 123  286 	lda #4
 124  288 	sta.w (0,S)
 125  289 	adj #2
 126  291 	psh.w #foodunits_003
 127  292 	lda.w row_015,X
 128  293 	dec.w a
 129  296 	pha.w
 130  297 	psh.w #18
 131  298 	jsr _imul
 132  299 	adj #4
 133  301 	clc
 134  302 	adc.w 0,S
 135  303 	sta.w 0,S
 136  304 	lda.w col_016,X
 137  305 	dec.w a
 138  308 	asl.w a
 139  310 	clc
 140  311 	adc.w 0,S
 141  312 	sta.w 0,S
 142  313 	lda #0
 143  315 	sta.w (0,S)
 144  316 	adj #2
 145  318 	inc.w col_016,X
 146  319 	jmp L_023
 147  320 L_025
 148  321 	dec.w col_016,X
 149  323 	inc.w row_015,X
 150  324 	jmp L_020
 151  325 L_022
 152  326 	dec.w row_015,X
 153  330 	psh.w #numwolves_005
 154  331 	jsr _iread
 155  333 	sta.w (0,S)
 156  334 	adj #2
 157  336 	lda #1
 158  337 	sta.w i_014,X
 159  338 L_026
 160  339 	lda.w numwolves_005
 161  340 	cmp.w i_014,X
 162  341 	bge L_027
 163  342 	jmp L_028
 164  343 L_027
 165  345 	txa.w
 166  346 	sec
 167  347 	adc.w #row_015
 168  348 	pha.w
 169  349 	jsr _iread
 170  351 	sta.w (0,S)
 171  352 	adj #2
 172  353 	txa.w
 173  354 	sec
 174  355 	adc.w #col_016
 175  356 	pha.w
 176  357 	jsr _iread
 177  359 	sta.w (0,S)
 178  360 	adj #2
 179  362 	psh.w #island_002
 180  363 	lda.w row_015,X
 181  366 	pha.w
 182  367 	psh.w #22
 183  368 	jsr _imul
 184  369 	adj #4
 185  371 	clc
 186  372 	adc.w 0,S
 187  373 	sta.w 0,S
 188  374 	lda.w col_016,X
 189  377 	asl.w a
 190  379 	clc
 191  380 	adc.w 0,S
 192  381 	sta.w 0,S
 193  382 	lda #0
 194  384 	sta.w (0,S)
 195  385 	adj #2
 196  387 	psh.w #foodunits_003
 197  388 	lda.w row_015,X
 198  389 	dec.w a
 199  392 	pha.w
 200  393 	psh.w #18
 201  394 	jsr _imul
 202  395 	adj #4
 203  397 	clc
 204  398 	adc.w 0,S
 205  399 	sta.w 0,S
 206  400 	lda.w col_016,X
 207  401 	dec.w a
 208  404 	asl.w a
 209  406 	clc
 210  407 	adc.w 0,S
 211  408 	sta.w 0,S
 212  409 	lda #6
 213  411 	sta.w (0,S)
 214  412 	adj #2
 215  414 	inc.w i_014,X
 216  415 	jmp L_026
 217  416 L_028
 218  417 	dec.w i_014,X
 219  421 	psh.w #numrabbits_006
 220  422 	jsr _iread
 221  424 	sta.w (0,S)
 222  425 	adj #2
 223  427 	lda #1
 224  428 	sta.w i_014,X
 225  429 L_029
 226  430 	lda.w numrabbits_006
 227  431 	cmp.w i_014,X
 228  432 	bge L_030
 229  433 	jmp L_031
 230  434 L_030
 231  436 	txa.w
 232  437 	sec
 233  438 	adc.w #row_015
 234  439 	pha.w
 235  440 	jsr _iread
 236  442 	sta.w (0,S)
 237  443 	adj #2
 238  444 	txa.w
 239  445 	sec
 240  446 	adc.w #col_016
 241  447 	pha.w
 242  448 	jsr _iread
 243  450 	sta.w (0,S)
 244  451 	adj #2
 245  453 	psh.w #island_002
 246  454 	lda.w row_015,X
 247  457 	pha.w
 248  458 	psh.w #22
 249  459 	jsr _imul
 250  460 	adj #4
 251  462 	clc
 252  463 	adc.w 0,S
 253  464 	sta.w 0,S
 254  465 	lda.w col_016,X
 255  468 	asl.w a
 256  470 	clc
 257  471 	adc.w 0,S
 258  472 	sta.w 0,S
 259  473 	lda #1
 260  475 	sta.w (0,S)
 261  476 	adj #2
 262  478 	inc.w i_014,X
 263  479 	jmp L_029
 264  480 L_031
 265  481 	dec.w i_014,X
 266  485 	psh.w #numprinttimes_007
 267  486 	jsr _iread
 268  488 	sta.w (0,S)
 269  489 	adj #2
 270  491 	lda #1
 271  492 	sta.w i_014,X
 272  493 L_032
 273  494 	lda.w numprinttimes_007
 274  495 	cmp.w i_014,X
 275  496 	bge L_033
 276  497 	jmp L_034
 277  498 L_033
 278  500 	psh.w #printtimes_004
 279  501 	lda.w i_014,X
 280  502 	dec.w a
 281  505 	asl.w a
 282  507 	clc
 283  508 	adc.w 0,S
 284  509 	sta.w 0,S
 285  510 	jsr _iread
 286  512 	sta.w (0,S)
 287  513 	adj #2
 288  515 	inc.w i_014,X
 289  516 	jmp L_032
 290  517 L_034
 291  518 	dec.w i_014,X
 292  522 	psh.w #rowoffset_011
 293  523 	lda #0
 294  526 	asl.w a
 295  528 	clc
 296  529 	adc.w 0,S
 297  530 	sta.w 0,S
 298  531 	lda #0
 299  533 	sta.w (0,S)
 300  534 	adj #2
 301  535 	psh.w #coloffset_012
 302  536 	lda #0
 303  539 	asl.w a
 304  541 	clc
 305  542 	adc.w 0,S
 306  543 	sta.w 0,S
 307  544 	lda #0
 308  546 	sta.w (0,S)
 309  547 	adj #2
 310  549 	psh.w #rowoffset_011
 311  550 	lda #1
 312  553 	asl.w a
 313  555 	clc
 314  556 	adc.w 0,S
 315  557 	sta.w 0,S
 316  558 	lda #1
 317  559 	eor.w #-1
 318  560 	inc.w a
 319  562 	sta.w (0,S)
 320  563 	adj #2
 321  564 	psh.w #coloffset_012
 322  565 	lda #1
 323  568 	asl.w a
 324  570 	clc
 325  571 	adc.w 0,S
 326  572 	sta.w 0,S
 327  573 	lda #0
 328  575 	sta.w (0,S)
 329  576 	adj #2
 330  578 	psh.w #rowoffset_011
 331  579 	lda #2
 332  582 	asl.w a
 333  584 	clc
 334  585 	adc.w 0,S
 335  586 	sta.w 0,S
 336  587 	lda #0
 337  589 	sta.w (0,S)
 338  590 	adj #2
 339  591 	psh.w #coloffset_012
 340  592 	lda #2
 341  595 	asl.w a
 342  597 	clc
 343  598 	adc.w 0,S
 344  599 	sta.w 0,S
 345  600 	lda #1
 346  601 	eor.w #-1
 347  602 	inc.w a
 348  604 	sta.w (0,S)
 349  605 	adj #2
 350  607 	psh.w #rowoffset_011
 351  608 	lda #3
 352  611 	asl.w a
 353  613 	clc
 354  614 	adc.w 0,S
 355  615 	sta.w 0,S
 356  616 	lda #0
 357  618 	sta.w (0,S)
 358  619 	adj #2
 359  620 	psh.w #coloffset_012
 360  621 	lda #3
 361  624 	asl.w a
 362  626 	clc
 363  627 	adc.w 0,S
 364  628 	sta.w 0,S
 365  629 	lda #1
 366  631 	sta.w (0,S)
 367  632 	adj #2
 368  634 	psh.w #rowoffset_011
 369  635 	lda #4
 370  638 	asl.w a
 371  640 	clc
 372  641 	adc.w 0,S
 373  642 	sta.w 0,S
 374  643 	lda #1
 375  645 	sta.w (0,S)
 376  646 	adj #2
 377  647 	psh.w #coloffset_012
 378  648 	lda #4
 379  651 	asl.w a
 380  653 	clc
 381  654 	adc.w 0,S
 382  655 	sta.w 0,S
 383  656 	lda #0
 384  658 	sta.w (0,S)
 385  659 	adj #2
 386  661 	txs.w
 387  662 	plx.w
 388  663 	rts
 389  664 	.ENDP	initialize_013
 390  678 limit_036	.EQ	+6
 391  680 random_035	.PROC
 392  682 	phx.w
 393  683 	tsx.w
 394  684 	adj #-4
 395  686 	lda.w seed_010
 396  687 	pha.w
 397  688 	lda #21
 398  689 	pha.w
 399  690 	jsr _imul
 400  691 	adj #4
 401  692 	pha.w
 402  693 	lda #77
 403  695 	clc
 404  696 	adc.w 0,S
 405  697 	adj #2
 406  698 	pha.w
 407  699 	lda.w #1024
 408  700 	pha.w
 409  703 	jsr _idiv
 410  704 	adj #4
 411  705 	swp a
 412  706 	sta.w seed_010
 413  708 	lda.w seed_010
 414  709 	pha.w
 415  710 	lda.w limit_036,X
 416  711 	pha.w
 417  712 	jsr _imul
 418  713 	adj #4
 419  714 	pha.w
 420  715 	lda.w #1024
 421  716 	pha.w
 422  719 	jsr _idiv
 423  720 	adj #4
 424  721 	sta.w RETURN_VALUE,X
 425  723 	lda.w RETURN_VALUE,X
 426  724 	txs.w
 427  725 	plx.w
 428  726 	rts
 429  727 	.ENDP	random_035
 430  745 creature_038	.EQ	+14
 431  746 oldrow_039	.EQ	+12
 432  747 oldcol_040	.EQ	+10
 433  748 newrow_041	.EQ	+8
 434  749 newcol_042	.EQ	+6
 435  750 adj_043	.EQ	-2
 436  751 what_044	.EQ	-4
 437  752 done_045	.EQ	-6
 438  754 newlocation_037	.PROC
 439  756 	phx.w
 440  757 	tsx.w
 441  758 	adj #-6
 442  760 	lda #0
 443  761 	sta.w done_045,X
 444  766 	lda.w creature_038,X
 445  767 	pha.w
 446  768 	lda #0
 447  769 	xma.w 0,S
 448  770 	cmp.w 0,S
 449  771 	adj #2
 450  772 	php
 451  773 	lda #1
 452  774 	plp
 453  775 	beq L_048
 454  776 	lda #0
 455  777 L_048
 456  778 	cmp.w #1
 457  779 	beq L_046
 458  780 	jmp  L_047
 459  781 L_046
 460  783 	lda #0
 461  784 	sta.w adj_043,X
 462  786 L_049
 463  788 	lda.w adj_043,X
 464  789 	pha.w
 465  790 	lda #1
 466  792 	clc
 467  793 	adc.w 0,S
 468  794 	adj #2
 469  795 	sta.w adj_043,X
 470  797 	lda.w newrow_041,X
 471  798 	pha.w
 472  799 	lda.w oldrow_039,X
 473  800 	pha.w
 474  801 	psh.w #rowoffset_011
 475  802 	lda.w adj_043,X
 476  805 	asl.w a
 477  807 	clc
 478  808 	adc.w 0,S
 479  809 	sta.w 0,S
 480  811 	lda.w (0,S)
 481  812 	adj #2
 482  814 	clc
 483  815 	adc.w 0,S
 484  816 	adj #2
 485  818 	sta.w (0,S)
 486  819 	adj #2
 487  821 	lda.w newcol_042,X
 488  822 	pha.w
 489  823 	lda.w oldcol_040,X
 490  824 	pha.w
 491  825 	psh.w #coloffset_012
 492  826 	lda.w adj_043,X
 493  829 	asl.w a
 494  831 	clc
 495  832 	adc.w 0,S
 496  833 	sta.w 0,S
 497  835 	lda.w (0,S)
 498  836 	adj #2
 499  838 	clc
 500  839 	adc.w 0,S
 501  840 	adj #2
 502  842 	sta.w (0,S)
 503  843 	adj #2
 504  845 	psh.w #island_002
 505  847 	lda.w (newrow_041,X)
 506  850 	pha.w
 507  851 	psh.w #22
 508  852 	jsr _imul
 509  853 	adj #4
 510  855 	clc
 511  856 	adc.w 0,S
 512  857 	sta.w 0,S
 513  859 	lda.w (newcol_042,X)
 514  862 	asl.w a
 515  864 	clc
 516  865 	adc.w 0,S
 517  866 	sta.w 0,S
 518  868 	lda.w (0,S)
 519  869 	adj #2
 520  870 	sta.w what_044,X
 521  872 	lda.w what_044,X
 522  873 	pha.w
 523  874 	lda #1
 524  875 	xma.w 0,S
 525  876 	cmp.w 0,S
 526  877 	adj #2
 527  878 	php
 528  879 	lda #1
 529  880 	plp
 530  881 	beq L_051
 531  882 	lda #0
 532  883 L_051
 533  884 	sta.w done_045,X
 534  886 	lda.w done_045,X
 535  887 	pha.w
 536  888 	lda.w adj_043,X
 537  889 	pha.w
 538  890 	lda #4
 539  891 	xma.w 0,S
 540  892 	cmp.w 0,S
 541  893 	adj #2
 542  894 	php
 543  895 	lda #1
 544  896 	plp
 545  897 	beq L_052
 546  898 	lda #0
 547  899 L_052
 548  901 	ora.w 0,S
 549  902 	adj #2
 550  903 	cmp.w #1
 551  904 	beq L_050
 552  905 	jmp L_049
 553  906 L_050
 554  908 L_047
 555  912 	lda.w done_045,X
 556  913 	eor #1
 557  914 	cmp.w #1
 558  915 	beq L_053
 559  916 	jmp  L_054
 560  917 L_053
 561  919 L_055
 562  921 	lda #5
 563  922 	pha.w
 564  923 	lda.w STATIC_LINK,X
 565  924 	pha.w
 566  925 	jsr random_035
 567  926 	adj #4
 568  927 	sta.w adj_043,X
 569  929 	lda.w newrow_041,X
 570  930 	pha.w
 571  931 	lda.w oldrow_039,X
 572  932 	pha.w
 573  933 	psh.w #rowoffset_011
 574  934 	lda.w adj_043,X
 575  937 	asl.w a
 576  939 	clc
 577  940 	adc.w 0,S
 578  941 	sta.w 0,S
 579  943 	lda.w (0,S)
 580  944 	adj #2
 581  946 	clc
 582  947 	adc.w 0,S
 583  948 	adj #2
 584  950 	sta.w (0,S)
 585  951 	adj #2
 586  953 	lda.w newcol_042,X
 587  954 	pha.w
 588  955 	lda.w oldcol_040,X
 589  956 	pha.w
 590  957 	psh.w #coloffset_012
 591  958 	lda.w adj_043,X
 592  961 	asl.w a
 593  963 	clc
 594  964 	adc.w 0,S
 595  965 	sta.w 0,S
 596  967 	lda.w (0,S)
 597  968 	adj #2
 598  970 	clc
 599  971 	adc.w 0,S
 600  972 	adj #2
 601  974 	sta.w (0,S)
 602  975 	adj #2
 603  977 	psh.w #island_002
 604  979 	lda.w (newrow_041,X)
 605  982 	pha.w
 606  983 	psh.w #22
 607  984 	jsr _imul
 608  985 	adj #4
 609  987 	clc
 610  988 	adc.w 0,S
 611  989 	sta.w 0,S
 612  991 	lda.w (newcol_042,X)
 613  994 	asl.w a
 614  996 	clc
 615  997 	adc.w 0,S
 616  998 	sta.w 0,S
 617 1000 	lda.w (0,S)
 618 1001 	adj #2
 619 1002 	sta.w what_044,X
 620 1004 	lda.w what_044,X
 621 1005 	pha.w
 622 1006 	lda #4
 623 1007 	xma.w 0,S
 624 1008 	cmp.w 0,S
 625 1009 	adj #2
 626 1010 	php
 627 1011 	lda #1
 628 1012 	plp
 629 1013 	beq L_057
 630 1014 	lda #0
 631 1015 L_057
 632 1017 	pha.w
 633 1019 	lda.w (newrow_041,X)
 634 1020 	pha.w
 635 1021 	lda.w oldrow_039,X
 636 1022 	xma.w 0,S
 637 1023 	cmp.w 0,S
 638 1024 	adj #2
 639 1025 	php
 640 1026 	lda #1
 641 1027 	plp
 642 1028 	beq L_058
 643 1029 	lda #0
 644 1030 L_058
 645 1031 	pha.w
 646 1033 	lda.w (newcol_042,X)
 647 1034 	pha.w
 648 1035 	lda.w oldcol_040,X
 649 1036 	xma.w 0,S
 650 1037 	cmp.w 0,S
 651 1038 	adj #2
 652 1039 	php
 653 1040 	lda #1
 654 1041 	plp
 655 1042 	beq L_059
 656 1043 	lda #0
 657 1044 L_059
 658 1046 	and.w 0,S
 659 1047 	adj #2
 660 1049 	ora.w 0,S
 661 1050 	adj #2
 662 1051 	cmp.w #1
 663 1052 	beq L_056
 664 1053 	jmp L_055
 665 1054 L_056
 666 1056 L_054
 667 1058 	txs.w
 668 1059 	plx.w
 669 1060 	rts
 670 1061 	.ENDP	newlocation_037
 671 1074 oldrow_061	.EQ	+8
 672 1075 oldcol_062	.EQ	+6
 673 1076 newrow_063	.EQ	-2
 674 1077 newcol_064	.EQ	-4
 675 1078 moved_065	.EQ	-6
 676 1080 processwolf_060	.PROC
 677 1082 	phx.w
 678 1083 	tsx.w
 679 1084 	adj #-6
 680 1088 	psh.w #foodunits_003
 681 1089 	lda.w oldrow_061,X
 682 1090 	dec.w a
 683 1093 	pha.w
 684 1094 	psh.w #18
 685 1095 	jsr _imul
 686 1096 	adj #4
 687 1098 	clc
 688 1099 	adc.w 0,S
 689 1100 	sta.w 0,S
 690 1101 	lda.w oldcol_062,X
 691 1102 	dec.w a
 692 1105 	asl.w a
 693 1107 	clc
 694 1108 	adc.w 0,S
 695 1109 	sta.w 0,S
 696 1110 	psh.w #foodunits_003
 697 1111 	lda.w oldrow_061,X
 698 1112 	dec.w a
 699 1115 	pha.w
 700 1116 	psh.w #18
 701 1117 	jsr _imul
 702 1118 	adj #4
 703 1120 	clc
 704 1121 	adc.w 0,S
 705 1122 	sta.w 0,S
 706 1123 	lda.w oldcol_062,X
 707 1124 	dec.w a
 708 1127 	asl.w a
 709 1129 	clc
 710 1130 	adc.w 0,S
 711 1131 	sta.w 0,S
 712 1133 	lda.w (0,S)
 713 1134 	adj #2
 714 1135 	pha.w
 715 1136 	lda #1
 716 1138 	xma.w 0,S
 717 1139 	sec
 718 1140 	sbc.w 0,S
 719 1141 	adj #2
 720 1144 	sta.w (0,S)
 721 1145 	adj #2
 722 1148 	psh.w #foodunits_003
 723 1149 	lda.w oldrow_061,X
 724 1150 	dec.w a
 725 1153 	pha.w
 726 1154 	psh.w #18
 727 1155 	jsr _imul
 728 1156 	adj #4
 729 1158 	clc
 730 1159 	adc.w 0,S
 731 1160 	sta.w 0,S
 732 1161 	lda.w oldcol_062,X
 733 1162 	dec.w a
 734 1165 	asl.w a
 735 1167 	clc
 736 1168 	adc.w 0,S
 737 1169 	sta.w 0,S
 738 1171 	lda.w (0,S)
 739 1172 	adj #2
 740 1173 	pha.w
 741 1174 	lda #0
 742 1175 	xma.w 0,S
 743 1176 	cmp.w 0,S
 744 1177 	adj #2
 745 1178 	php
 746 1179 	lda #1
 747 1180 	plp
 748 1181 	beq L_068
 749 1182 	lda #0
 750 1183 L_068
 751 1184 	cmp.w #1
 752 1185 	beq L_066
 753 1186 	jmp  L_067
 754 1187 L_066
 755 1191 	psh.w #island_002
 756 1192 	lda.w oldrow_061,X
 757 1195 	pha.w
 758 1196 	psh.w #22
 759 1197 	jsr _imul
 760 1198 	adj #4
 761 1200 	clc
 762 1201 	adc.w 0,S
 763 1202 	sta.w 0,S
 764 1203 	lda.w oldcol_062,X
 765 1206 	asl.w a
 766 1208 	clc
 767 1209 	adc.w 0,S
 768 1210 	sta.w 0,S
 769 1211 	lda #4
 770 1213 	sta.w (0,S)
 771 1214 	adj #2
 772 1216 	lda.w numwolves_005
 773 1217 	pha.w
 774 1218 	lda #1
 775 1220 	xma.w 0,S
 776 1221 	sec
 777 1222 	sbc.w 0,S
 778 1223 	adj #2
 779 1225 	sta.w numwolves_005
 780 1227 	psh.w #S_069
 781 1229 	psh.w #0
 782 1231 	psh.w #3
 783 1233 	jsr _swrite
 784 1234 	adj #6
 785 1235 	lda.w t_008
 786 1236 	pha.w
 787 1237 	lda #4
 788 1238 	pha.w
 789 1239 	jsr _iwrite
 790 1240 	adj #4
 791 1241 	psh.w #S_070
 792 1243 	psh.w #0
 793 1245 	psh.w #16
 794 1247 	jsr _swrite
 795 1248 	adj #6
 796 1250 	lda #91
 797 1251 	pha.w
 798 1252 	psh.w #0
 799 1254 	jsr _cwrite
 800 1255 	adj #4
 801 1256 	lda.w oldrow_061,X
 802 1257 	pha.w
 803 1258 	lda #1
 804 1259 	pha.w
 805 1260 	jsr _iwrite
 806 1261 	adj #4
 807 1262 	psh.w #S_071
 808 1264 	psh.w #0
 809 1266 	psh.w #2
 810 1268 	jsr _swrite
 811 1269 	adj #6
 812 1270 	lda.w oldcol_062,X
 813 1271 	pha.w
 814 1272 	lda #1
 815 1273 	pha.w
 816 1274 	jsr _iwrite
 817 1275 	adj #4
 818 1276 	lda #93
 819 1277 	pha.w
 820 1278 	psh.w #0
 821 1280 	jsr _cwrite
 822 1281 	adj #4
 823 1282 	jsr _writeln
 824 1285 	jmp L_072
 825 1286 L_067
 826 1290 	lda #0
 827 1291 	pha.w
 828 1292 	lda.w oldrow_061,X
 829 1293 	pha.w
 830 1294 	lda.w oldcol_062,X
 831 1295 	pha.w
 832 1296 	txa.w
 833 1297 	sec
 834 1298 	adc.w #newrow_063
 835 1299 	pha.w
 836 1300 	txa.w
 837 1301 	sec
 838 1302 	adc.w #newcol_064
 839 1303 	pha.w
 840 1304 	lda.w STATIC_LINK,X
 841 1305 	pha.w
 842 1306 	jsr newlocation_037
 843 1307 	adj #12
 844 1309 	lda.w newrow_063,X
 845 1310 	pha.w
 846 1311 	lda.w oldrow_061,X
 847 1312 	xma.w 0,S
 848 1313 	cmp.w 0,S
 849 1314 	adj #2
 850 1315 	php
 851 1316 	lda #1
 852 1317 	plp
 853 1318 	bne L_073
 854 1319 	lda #0
 855 1320 L_073
 856 1321 	pha.w
 857 1322 	lda.w newcol_064,X
 858 1323 	pha.w
 859 1324 	lda.w oldcol_062,X
 860 1325 	xma.w 0,S
 861 1326 	cmp.w 0,S
 862 1327 	adj #2
 863 1328 	php
 864 1329 	lda #1
 865 1330 	plp
 866 1331 	bne L_074
 867 1332 	lda #0
 868 1333 L_074
 869 1335 	ora.w 0,S
 870 1336 	adj #2
 871 1337 	sta.w moved_065,X
 872 1340 	lda.w moved_065,X
 873 1341 	cmp.w #1
 874 1342 	beq L_075
 875 1343 	jmp  L_076
 876 1344 L_075
 877 1348 	psh.w #island_002
 878 1349 	lda.w newrow_063,X
 879 1352 	pha.w
 880 1353 	psh.w #22
 881 1354 	jsr _imul
 882 1355 	adj #4
 883 1357 	clc
 884 1358 	adc.w 0,S
 885 1359 	sta.w 0,S
 886 1360 	lda.w newcol_064,X
 887 1363 	asl.w a
 888 1365 	clc
 889 1366 	adc.w 0,S
 890 1367 	sta.w 0,S
 891 1369 	lda.w (0,S)
 892 1370 	adj #2
 893 1371 	pha.w
 894 1372 	lda #1
 895 1373 	xma.w 0,S
 896 1374 	cmp.w 0,S
 897 1375 	adj #2
 898 1376 	php
 899 1377 	lda #1
 900 1378 	plp
 901 1379 	beq L_079
 902 1380 	lda #0
 903 1381 L_079
 904 1382 	cmp.w #1
 905 1383 	beq L_077
 906 1384 	jmp  L_078
 907 1385 L_077
 908 1387 	psh.w #foodunits_003
 909 1388 	lda.w oldrow_061,X
 910 1389 	dec.w a
 911 1392 	pha.w
 912 1393 	psh.w #18
 913 1394 	jsr _imul
 914 1395 	adj #4
 915 1397 	clc
 916 1398 	adc.w 0,S
 917 1399 	sta.w 0,S
 918 1400 	lda.w oldcol_062,X
 919 1401 	dec.w a
 920 1404 	asl.w a
 921 1406 	clc
 922 1407 	adc.w 0,S
 923 1408 	sta.w 0,S
 924 1410 	psh.w #foodunits_003
 925 1411 	lda.w oldrow_061,X
 926 1412 	dec.w a
 927 1415 	pha.w
 928 1416 	psh.w #18
 929 1417 	jsr _imul
 930 1418 	adj #4
 931 1420 	clc
 932 1421 	adc.w 0,S
 933 1422 	sta.w 0,S
 934 1423 	lda.w oldcol_062,X
 935 1424 	dec.w a
 936 1427 	asl.w a
 937 1429 	clc
 938 1430 	adc.w 0,S
 939 1431 	sta.w 0,S
 940 1433 	lda.w (0,S)
 941 1434 	adj #2
 942 1435 	pha.w
 943 1436 	lda #6
 944 1438 	clc
 945 1439 	adc.w 0,S
 946 1440 	adj #2
 947 1442 	sta.w (0,S)
 948 1443 	adj #2
 949 1445 	lda.w numrabbits_006
 950 1446 	pha.w
 951 1447 	lda #1
 952 1449 	xma.w 0,S
 953 1450 	sec
 954 1451 	sbc.w 0,S
 955 1452 	adj #2
 956 1454 	sta.w numrabbits_006
 957 1456 	psh.w #S_069
 958 1458 	psh.w #0
 959 1460 	psh.w #3
 960 1462 	jsr _swrite
 961 1463 	adj #6
 962 1464 	lda.w t_008
 963 1465 	pha.w
 964 1466 	lda #4
 965 1467 	pha.w
 966 1468 	jsr _iwrite
 967 1469 	adj #4
 968 1470 	psh.w #S_080
 969 1472 	psh.w #0
 970 1474 	psh.w #19
 971 1476 	jsr _swrite
 972 1477 	adj #6
 973 1479 	lda #91
 974 1480 	pha.w
 975 1481 	psh.w #0
 976 1483 	jsr _cwrite
 977 1484 	adj #4
 978 1485 	lda.w newrow_063,X
 979 1486 	pha.w
 980 1487 	lda #1
 981 1488 	pha.w
 982 1489 	jsr _iwrite
 983 1490 	adj #4
 984 1491 	psh.w #S_071
 985 1493 	psh.w #0
 986 1495 	psh.w #2
 987 1497 	jsr _swrite
 988 1498 	adj #6
 989 1499 	lda.w newcol_064,X
 990 1500 	pha.w
 991 1501 	lda #1
 992 1502 	pha.w
 993 1503 	jsr _iwrite
 994 1504 	adj #4
 995 1505 	lda #93
 996 1506 	pha.w
 997 1507 	psh.w #0
 998 1509 	jsr _cwrite
 999 1510 	adj #4
1000 1511 	jsr _writeln
1001 1513 L_078
1002 1517 	psh.w #island_002
1003 1518 	lda.w newrow_063,X
1004 1521 	pha.w
1005 1522 	psh.w #22
1006 1523 	jsr _imul
1007 1524 	adj #4
1008 1526 	clc
1009 1527 	adc.w 0,S
1010 1528 	sta.w 0,S
1011 1529 	lda.w newcol_064,X
1012 1532 	asl.w a
1013 1534 	clc
1014 1535 	adc.w 0,S
1015 1536 	sta.w 0,S
1016 1537 	lda #2
1017 1539 	sta.w (0,S)
1018 1540 	adj #2
1019 1542 	psh.w #island_002
1020 1543 	lda.w oldrow_061,X
1021 1546 	pha.w
1022 1547 	psh.w #22
1023 1548 	jsr _imul
1024 1549 	adj #4
1025 1551 	clc
1026 1552 	adc.w 0,S
1027 1553 	sta.w 0,S
1028 1554 	lda.w oldcol_062,X
1029 1557 	asl.w a
1030 1559 	clc
1031 1560 	adc.w 0,S
1032 1561 	sta.w 0,S
1033 1562 	lda #4
1034 1564 	sta.w (0,S)
1035 1565 	adj #2
1036 1567 	psh.w #foodunits_003
1037 1568 	lda.w newrow_063,X
1038 1569 	dec.w a
1039 1572 	pha.w
1040 1573 	psh.w #18
1041 1574 	jsr _imul
1042 1575 	adj #4
1043 1577 	clc
1044 1578 	adc.w 0,S
1045 1579 	sta.w 0,S
1046 1580 	lda.w newcol_064,X
1047 1581 	dec.w a
1048 1584 	asl.w a
1049 1586 	clc
1050 1587 	adc.w 0,S
1051 1588 	sta.w 0,S
1052 1589 	psh.w #foodunits_003
1053 1590 	lda.w oldrow_061,X
1054 1591 	dec.w a
1055 1594 	pha.w
1056 1595 	psh.w #18
1057 1596 	jsr _imul
1058 1597 	adj #4
1059 1599 	clc
1060 1600 	adc.w 0,S
1061 1601 	sta.w 0,S
1062 1602 	lda.w oldcol_062,X
1063 1603 	dec.w a
1064 1606 	asl.w a
1065 1608 	clc
1066 1609 	adc.w 0,S
1067 1610 	sta.w 0,S
1068 1612 	lda.w (0,S)
1069 1613 	adj #2
1070 1615 	sta.w (0,S)
1071 1616 	adj #2
1072 1618 	psh.w #foodunits_003
1073 1619 	lda.w oldrow_061,X
1074 1620 	dec.w a
1075 1623 	pha.w
1076 1624 	psh.w #18
1077 1625 	jsr _imul
1078 1626 	adj #4
1079 1628 	clc
1080 1629 	adc.w 0,S
1081 1630 	sta.w 0,S
1082 1631 	lda.w oldcol_062,X
1083 1632 	dec.w a
1084 1635 	asl.w a
1085 1637 	clc
1086 1638 	adc.w 0,S
1087 1639 	sta.w 0,S
1088 1640 	lda #0
1089 1642 	sta.w (0,S)
1090 1643 	adj #2
1091 1645 L_076
1092 1649 	lda.w t_008
1093 1650 	pha.w
1094 1651 	lda #12
1095 1652 	pha.w
1096 1655 	jsr _idiv
1097 1656 	adj #4
1098 1657 	swp a
1099 1658 	pha.w
1100 1659 	lda #0
1101 1660 	xma.w 0,S
1102 1661 	cmp.w 0,S
1103 1662 	adj #2
1104 1663 	php
1105 1664 	lda #1
1106 1665 	plp
1107 1666 	beq L_083
1108 1667 	lda #0
1109 1668 L_083
1110 1670 	pha.w
1111 1671 	psh.w #foodunits_003
1112 1672 	lda.w newrow_063,X
1113 1673 	dec.w a
1114 1676 	pha.w
1115 1677 	psh.w #18
1116 1678 	jsr _imul
1117 1679 	adj #4
1118 1681 	clc
1119 1682 	adc.w 0,S
1120 1683 	sta.w 0,S
1121 1684 	lda.w newcol_064,X
1122 1685 	dec.w a
1123 1688 	asl.w a
1124 1690 	clc
1125 1691 	adc.w 0,S
1126 1692 	sta.w 0,S
1127 1694 	lda.w (0,S)
1128 1695 	adj #2
1129 1696 	pha.w
1130 1697 	lda #1
1131 1698 	xma.w 0,S
1132 1699 	cmp.w 0,S
1133 1700 	adj #2
1134 1701 	php
1135 1702 	lda #1
1136 1703 	plp
1137 1704 	bgt L_084
1138 1705 	lda #0
1139 1706 L_084
1140 1708 	and.w 0,S
1141 1709 	adj #2
1142 1710 	cmp.w #1
1143 1711 	beq L_081
1144 1712 	jmp  L_082
1145 1713 L_081
1146 1715 	psh.w #foodunits_003
1147 1716 	lda.w newrow_063,X
1148 1717 	dec.w a
1149 1720 	pha.w
1150 1721 	psh.w #18
1151 1722 	jsr _imul
1152 1723 	adj #4
1153 1725 	clc
1154 1726 	adc.w 0,S
1155 1727 	sta.w 0,S
1156 1728 	lda.w newcol_064,X
1157 1729 	dec.w a
1158 1732 	asl.w a
1159 1734 	clc
1160 1735 	adc.w 0,S
1161 1736 	sta.w 0,S
1162 1738 	psh.w #foodunits_003
1163 1739 	lda.w newrow_063,X
1164 1740 	dec.w a
1165 1743 	pha.w
1166 1744 	psh.w #18
1167 1745 	jsr _imul
1168 1746 	adj #4
1169 1748 	clc
1170 1749 	adc.w 0,S
1171 1750 	sta.w 0,S
1172 1751 	lda.w newcol_064,X
1173 1752 	dec.w a
1174 1755 	asl.w a
1175 1757 	clc
1176 1758 	adc.w 0,S
1177 1759 	sta.w 0,S
1178 1761 	lda.w (0,S)
1179 1762 	adj #2
1180 1763 	pha.w
1181 1764 	lda #2
1182 1765 	pha.w
1183 1768 	jsr _idiv
1184 1769 	adj #4
1185 1771 	sta.w (0,S)
1186 1772 	adj #2
1187 1776 	lda.w moved_065,X
1188 1777 	cmp.w #1
1189 1778 	beq L_085
1190 1779 	jmp  L_086
1191 1780 L_085
1192 1782 	psh.w #island_002
1193 1783 	lda.w oldrow_061,X
1194 1786 	pha.w
1195 1787 	psh.w #22
1196 1788 	jsr _imul
1197 1789 	adj #4
1198 1791 	clc
1199 1792 	adc.w 0,S
1200 1793 	sta.w 0,S
1201 1794 	lda.w oldcol_062,X
1202 1797 	asl.w a
1203 1799 	clc
1204 1800 	adc.w 0,S
1205 1801 	sta.w 0,S
1206 1802 	lda #2
1207 1804 	sta.w (0,S)
1208 1805 	adj #2
1209 1807 	psh.w #foodunits_003
1210 1808 	lda.w oldrow_061,X
1211 1809 	dec.w a
1212 1812 	pha.w
1213 1813 	psh.w #18
1214 1814 	jsr _imul
1215 1815 	adj #4
1216 1817 	clc
1217 1818 	adc.w 0,S
1218 1819 	sta.w 0,S
1219 1820 	lda.w oldcol_062,X
1220 1821 	dec.w a
1221 1824 	asl.w a
1222 1826 	clc
1223 1827 	adc.w 0,S
1224 1828 	sta.w 0,S
1225 1830 	psh.w #foodunits_003
1226 1831 	lda.w newrow_063,X
1227 1832 	dec.w a
1228 1835 	pha.w
1229 1836 	psh.w #18
1230 1837 	jsr _imul
1231 1838 	adj #4
1232 1840 	clc
1233 1841 	adc.w 0,S
1234 1842 	sta.w 0,S
1235 1843 	lda.w newcol_064,X
1236 1844 	dec.w a
1237 1847 	asl.w a
1238 1849 	clc
1239 1850 	adc.w 0,S
1240 1851 	sta.w 0,S
1241 1853 	lda.w (0,S)
1242 1854 	adj #2
1243 1856 	sta.w (0,S)
1244 1857 	adj #2
1245 1859 	lda.w numwolves_005
1246 1860 	pha.w
1247 1861 	lda #1
1248 1863 	clc
1249 1864 	adc.w 0,S
1250 1865 	adj #2
1251 1866 	sta.w numwolves_005
1252 1868 	psh.w #S_069
1253 1870 	psh.w #0
1254 1872 	psh.w #3
1255 1874 	jsr _swrite
1256 1875 	adj #6
1257 1876 	lda.w t_008
1258 1877 	pha.w
1259 1878 	lda #4
1260 1879 	pha.w
1261 1880 	jsr _iwrite
1262 1881 	adj #4
1263 1882 	psh.w #S_087
1264 1884 	psh.w #0
1265 1886 	psh.w #16
1266 1888 	jsr _swrite
1267 1889 	adj #6
1268 1891 	lda #91
1269 1892 	pha.w
1270 1893 	psh.w #0
1271 1895 	jsr _cwrite
1272 1896 	adj #4
1273 1897 	lda.w oldrow_061,X
1274 1898 	pha.w
1275 1899 	lda #1
1276 1900 	pha.w
1277 1901 	jsr _iwrite
1278 1902 	adj #4
1279 1903 	psh.w #S_071
1280 1905 	psh.w #0
1281 1907 	psh.w #2
1282 1909 	jsr _swrite
1283 1910 	adj #6
1284 1911 	lda.w oldcol_062,X
1285 1912 	pha.w
1286 1913 	lda #1
1287 1914 	pha.w
1288 1915 	jsr _iwrite
1289 1916 	adj #4
1290 1917 	lda #93
1291 1918 	pha.w
1292 1919 	psh.w #0
1293 1921 	jsr _cwrite
1294 1922 	adj #4
1295 1923 	jsr _writeln
1296 1925 L_086
1297 1927 L_082
1298 1929 L_072
1299 1931 	txs.w
1300 1932 	plx.w
1301 1933 	rts
1302 1934 	.ENDP	processwolf_060
1303 1947 oldrow_089	.EQ	+8
1304 1948 oldcol_090	.EQ	+6
1305 1949 newrow_091	.EQ	-2
1306 1950 newcol_092	.EQ	-4
1307 1951 moved_093	.EQ	-6
1308 1953 processrabbit_088	.PROC
1309 1955 	phx.w
1310 1956 	tsx.w
1311 1957 	adj #-6
1312 1961 	lda #1
1313 1962 	pha.w
1314 1963 	lda.w oldrow_089,X
1315 1964 	pha.w
1316 1965 	lda.w oldcol_090,X
1317 1966 	pha.w
1318 1967 	txa.w
1319 1968 	sec
1320 1969 	adc.w #newrow_091
1321 1970 	pha.w
1322 1971 	txa.w
1323 1972 	sec
1324 1973 	adc.w #newcol_092
1325 1974 	pha.w
1326 1975 	lda.w STATIC_LINK,X
1327 1976 	pha.w
1328 1977 	jsr newlocation_037
1329 1978 	adj #12
1330 1980 	lda.w newrow_091,X
1331 1981 	pha.w
1332 1982 	lda.w oldrow_089,X
1333 1983 	xma.w 0,S
1334 1984 	cmp.w 0,S
1335 1985 	adj #2
1336 1986 	php
1337 1987 	lda #1
1338 1988 	plp
1339 1989 	bne L_094
1340 1990 	lda #0
1341 1991 L_094
1342 1992 	pha.w
1343 1993 	lda.w newcol_092,X
1344 1994 	pha.w
1345 1995 	lda.w oldcol_090,X
1346 1996 	xma.w 0,S
1347 1997 	cmp.w 0,S
1348 1998 	adj #2
1349 1999 	php
1350 2000 	lda #1
1351 2001 	plp
1352 2002 	bne L_095
1353 2003 	lda #0
1354 2004 L_095
1355 2006 	ora.w 0,S
1356 2007 	adj #2
1357 2008 	sta.w moved_093,X
1358 2010 	lda.w moved_093,X
1359 2011 	cmp.w #1
1360 2012 	beq L_096
1361 2013 	jmp  L_097
1362 2014 L_096
1363 2016 	psh.w #island_002
1364 2017 	lda.w newrow_091,X
1365 2020 	pha.w
1366 2021 	psh.w #22
1367 2022 	jsr _imul
1368 2023 	adj #4
1369 2025 	clc
1370 2026 	adc.w 0,S
1371 2027 	sta.w 0,S
1372 2028 	lda.w newcol_092,X
1373 2031 	asl.w a
1374 2033 	clc
1375 2034 	adc.w 0,S
1376 2035 	sta.w 0,S
1377 2036 	lda #3
1378 2038 	sta.w (0,S)
1379 2039 	adj #2
1380 2041 	psh.w #island_002
1381 2042 	lda.w oldrow_089,X
1382 2045 	pha.w
1383 2046 	psh.w #22
1384 2047 	jsr _imul
1385 2048 	adj #4
1386 2050 	clc
1387 2051 	adc.w 0,S
1388 2052 	sta.w 0,S
1389 2053 	lda.w oldcol_090,X
1390 2056 	asl.w a
1391 2058 	clc
1392 2059 	adc.w 0,S
1393 2060 	sta.w 0,S
1394 2061 	lda #4
1395 2063 	sta.w (0,S)
1396 2064 	adj #2
1397 2066 L_097
1398 2070 	lda.w t_008
1399 2071 	pha.w
1400 2072 	lda #5
1401 2073 	pha.w
1402 2076 	jsr _idiv
1403 2077 	adj #4
1404 2078 	swp a
1405 2079 	pha.w
1406 2080 	lda #0
1407 2081 	xma.w 0,S
1408 2082 	cmp.w 0,S
1409 2083 	adj #2
1410 2084 	php
1411 2085 	lda #1
1412 2086 	plp
1413 2087 	beq L_100
1414 2088 	lda #0
1415 2089 L_100
1416 2090 	cmp.w #1
1417 2091 	beq L_098
1418 2092 	jmp  L_099
1419 2093 L_098
1420 2097 	lda.w moved_093,X
1421 2098 	cmp.w #1
1422 2099 	beq L_101
1423 2100 	jmp  L_102
1424 2101 L_101
1425 2103 	psh.w #island_002
1426 2104 	lda.w oldrow_089,X
1427 2107 	pha.w
1428 2108 	psh.w #22
1429 2109 	jsr _imul
1430 2110 	adj #4
1431 2112 	clc
1432 2113 	adc.w 0,S
1433 2114 	sta.w 0,S
1434 2115 	lda.w oldcol_090,X
1435 2118 	asl.w a
1436 2120 	clc
1437 2121 	adc.w 0,S
1438 2122 	sta.w 0,S
1439 2123 	lda #3
1440 2125 	sta.w (0,S)
1441 2126 	adj #2
1442 2128 	lda.w numrabbits_006
1443 2129 	pha.w
1444 2130 	lda #1
1445 2132 	clc
1446 2133 	adc.w 0,S
1447 2134 	adj #2
1448 2135 	sta.w numrabbits_006
1449 2137 	psh.w #S_069
1450 2139 	psh.w #0
1451 2141 	psh.w #3
1452 2143 	jsr _swrite
1453 2144 	adj #6
1454 2145 	lda.w t_008
1455 2146 	pha.w
1456 2147 	lda #4
1457 2148 	pha.w
1458 2149 	jsr _iwrite
1459 2150 	adj #4
1460 2151 	psh.w #S_103
1461 2153 	psh.w #0
1462 2155 	psh.w #18
1463 2157 	jsr _swrite
1464 2158 	adj #6
1465 2160 	lda #91
1466 2161 	pha.w
1467 2162 	psh.w #0
1468 2164 	jsr _cwrite
1469 2165 	adj #4
1470 2166 	lda.w oldrow_089,X
1471 2167 	pha.w
1472 2168 	lda #1
1473 2169 	pha.w
1474 2170 	jsr _iwrite
1475 2171 	adj #4
1476 2172 	psh.w #S_071
1477 2174 	psh.w #0
1478 2176 	psh.w #2
1479 2178 	jsr _swrite
1480 2179 	adj #6
1481 2180 	lda.w oldcol_090,X
1482 2181 	pha.w
1483 2182 	lda #1
1484 2183 	pha.w
1485 2184 	jsr _iwrite
1486 2185 	adj #4
1487 2186 	lda #93
1488 2187 	pha.w
1489 2188 	psh.w #0
1490 2190 	jsr _cwrite
1491 2191 	adj #4
1492 2192 	jsr _writeln
1493 2194 L_102
1494 2196 L_099
1495 2198 	txs.w
1496 2199 	plx.w
1497 2200 	rts
1498 2201 	.ENDP	processrabbit_088
1499 2213 row_105	.EQ	-2
1500 2214 col_106	.EQ	-4
1501 2216 eventsoccur_104	.PROC
1502 2218 	phx.w
1503 2219 	tsx.w
1504 2220 	adj #-4
1505 2224 	lda #1
1506 2225 	sta.w row_105,X
1507 2226 L_107
1508 2227 	lda #9
1509 2228 	cmp.w row_105,X
1510 2229 	bge L_108
1511 2230 	jmp L_109
1512 2231 L_108
1513 2233 	lda #1
1514 2234 	sta.w col_106,X
1515 2235 L_110
1516 2236 	lda #9
1517 2237 	cmp.w col_106,X
1518 2238 	bge L_111
1519 2239 	jmp L_112
1520 2240 L_111
1521 2242 	psh.w #island_002
1522 2243 	lda.w row_105,X
1523 2246 	pha.w
1524 2247 	psh.w #22
1525 2248 	jsr _imul
1526 2249 	adj #4
1527 2251 	clc
1528 2252 	adc.w 0,S
1529 2253 	sta.w 0,S
1530 2254 	lda.w col_106,X
1531 2257 	asl.w a
1532 2259 	clc
1533 2260 	adc.w 0,S
1534 2261 	sta.w 0,S
1535 2263 	lda.w (0,S)
1536 2264 	adj #2
1537 2265 	pha.w
1538 2266 	lda #0
1539 2267 	xma.w 0,S
1540 2268 	cmp.w 0,S
1541 2269 	adj #2
1542 2270 	php
1543 2271 	lda #1
1544 2272 	plp
1545 2273 	beq L_115
1546 2274 	lda #0
1547 2275 L_115
1548 2276 	cmp.w #1
1549 2277 	beq L_113
1550 2278 	jmp  L_114
1551 2279 L_113
1552 2281 	lda.w row_105,X
1553 2282 	pha.w
1554 2283 	lda.w col_106,X
1555 2284 	pha.w
1556 2285 	lda.w STATIC_LINK,X
1557 2286 	pha.w
1558 2287 	jsr processwolf_060
1559 2288 	adj #6
1560 2290 L_114
1561 2292 	inc.w col_106,X
1562 2293 	jmp L_110
1563 2294 L_112
1564 2295 	dec.w col_106,X
1565 2297 	inc.w row_105,X
1566 2298 	jmp L_107
1567 2299 L_109
1568 2300 	dec.w row_105,X
1569 2305 	lda #1
1570 2306 	sta.w row_105,X
1571 2307 L_116
1572 2308 	lda #9
1573 2309 	cmp.w row_105,X
1574 2310 	bge L_117
1575 2311 	jmp L_118
1576 2312 L_117
1577 2314 	lda #1
1578 2315 	sta.w col_106,X
1579 2316 L_119
1580 2317 	lda #9
1581 2318 	cmp.w col_106,X
1582 2319 	bge L_120
1583 2320 	jmp L_121
1584 2321 L_120
1585 2323 	psh.w #island_002
1586 2324 	lda.w row_105,X
1587 2327 	pha.w
1588 2328 	psh.w #22
1589 2329 	jsr _imul
1590 2330 	adj #4
1591 2332 	clc
1592 2333 	adc.w 0,S
1593 2334 	sta.w 0,S
1594 2335 	lda.w col_106,X
1595 2338 	asl.w a
1596 2340 	clc
1597 2341 	adc.w 0,S
1598 2342 	sta.w 0,S
1599 2344 	lda.w (0,S)
1600 2345 	adj #2
1601 2346 	pha.w
1602 2347 	lda #1
1603 2348 	xma.w 0,S
1604 2349 	cmp.w 0,S
1605 2350 	adj #2
1606 2351 	php
1607 2352 	lda #1
1608 2353 	plp
1609 2354 	beq L_124
1610 2355 	lda #0
1611 2356 L_124
1612 2357 	cmp.w #1
1613 2358 	beq L_122
1614 2359 	jmp  L_123
1615 2360 L_122
1616 2362 	lda.w row_105,X
1617 2363 	pha.w
1618 2364 	lda.w col_106,X
1619 2365 	pha.w
1620 2366 	lda.w STATIC_LINK,X
1621 2367 	pha.w
1622 2368 	jsr processrabbit_088
1623 2369 	adj #6
1624 2371 L_123
1625 2373 	inc.w col_106,X
1626 2374 	jmp L_119
1627 2375 L_121
1628 2376 	dec.w col_106,X
1629 2378 	inc.w row_105,X
1630 2379 	jmp L_116
1631 2380 L_118
1632 2381 	dec.w row_105,X
1633 2383 	txs.w
1634 2384 	plx.w
1635 2385 	rts
1636 2386 	.ENDP	eventsoccur_104
1637 2399 row_126	.EQ	-2
1638 2400 col_127	.EQ	-4
1639 2401 cnts_128	.EQ	-6
1640 2403 printisland_125	.PROC
1641 2405 	phx.w
1642 2406 	tsx.w
1643 2407 	adj #-6
1644 2409 	jsr _writeln
1645 2411 	psh.w #S_069
1646 2413 	psh.w #0
1647 2415 	psh.w #3
1648 2417 	jsr _swrite
1649 2418 	adj #6
1650 2419 	lda.w t_008
1651 2420 	pha.w
1652 2421 	lda #4
1653 2422 	pha.w
1654 2423 	jsr _iwrite
1655 2424 	adj #4
1656 2425 	psh.w #S_129
1657 2427 	psh.w #0
1658 2429 	psh.w #14
1659 2431 	jsr _swrite
1660 2432 	adj #6
1661 2433 	jsr _writeln
1662 2435 	jsr _writeln
1663 2438 	lda #1
1664 2439 	sta.w row_126,X
1665 2440 L_130
1666 2441 	lda #9
1667 2442 	cmp.w row_126,X
1668 2443 	bge L_131
1669 2444 	jmp L_132
1670 2445 L_131
1671 2447 	lda #32
1672 2448 	pha.w
1673 2449 	lda #10
1674 2450 	pha.w
1675 2451 	jsr _cwrite
1676 2452 	adj #4
1677 2454 	lda #1
1678 2455 	sta.w col_127,X
1679 2456 L_133
1680 2457 	lda #9
1681 2458 	cmp.w col_127,X
1682 2459 	bge L_134
1683 2460 	jmp L_135
1684 2461 L_134
1685 2463 	psh.w #island_002
1686 2464 	lda.w row_126,X
1687 2467 	pha.w
1688 2468 	psh.w #22
1689 2469 	jsr _imul
1690 2470 	adj #4
1691 2472 	clc
1692 2473 	adc.w 0,S
1693 2474 	sta.w 0,S
1694 2475 	lda.w col_127,X
1695 2478 	asl.w a
1696 2480 	clc
1697 2481 	adc.w 0,S
1698 2482 	sta.w 0,S
1699 2484 	lda.w (0,S)
1700 2485 	adj #2
1701 2486 	sta.w cnts_128,X
1702 2488 	lda.w cnts_128,X
1703 2489 	pha.w
1704 2490 	lda #4
1705 2491 	xma.w 0,S
1706 2492 	cmp.w 0,S
1707 2493 	adj #2
1708 2494 	php
1709 2495 	lda #1
1710 2496 	plp
1711 2497 	beq L_138
1712 2498 	lda #0
1713 2499 L_138
1714 2500 	cmp.w #1
1715 2501 	beq L_136
1716 2502 	jmp  L_137
1717 2503 L_136
1718 2504 	psh.w #S_139
1719 2506 	psh.w #0
1720 2508 	psh.w #2
1721 2510 	jsr _swrite
1722 2511 	adj #6
1723 2513 	jmp L_140
1724 2514 L_137
1725 2515 	lda.w cnts_128,X
1726 2516 	pha.w
1727 2517 	lda #0
1728 2518 	xma.w 0,S
1729 2519 	cmp.w 0,S
1730 2520 	adj #2
1731 2521 	php
1732 2522 	lda #1
1733 2523 	plp
1734 2524 	beq L_143
1735 2525 	lda #0
1736 2526 L_143
1737 2527 	cmp.w #1
1738 2528 	beq L_141
1739 2529 	jmp  L_142
1740 2530 L_141
1741 2531 	psh.w #S_144
1742 2533 	psh.w #0
1743 2535 	psh.w #2
1744 2537 	jsr _swrite
1745 2538 	adj #6
1746 2540 	jmp L_145
1747 2541 L_142
1748 2542 	lda.w cnts_128,X
1749 2543 	pha.w
1750 2544 	lda #1
1751 2545 	xma.w 0,S
1752 2546 	cmp.w 0,S
1753 2547 	adj #2
1754 2548 	php
1755 2549 	lda #1
1756 2550 	plp
1757 2551 	beq L_148
1758 2552 	lda #0
1759 2553 L_148
1760 2554 	cmp.w #1
1761 2555 	beq L_146
1762 2556 	jmp  L_147
1763 2557 L_146
1764 2558 	psh.w #S_149
1765 2560 	psh.w #0
1766 2562 	psh.w #2
1767 2564 	jsr _swrite
1768 2565 	adj #6
1769 2567 L_147
1770 2568 L_145
1771 2569 L_140
1772 2570 	inc.w col_127,X
1773 2571 	jmp L_133
1774 2572 L_135
1775 2573 	dec.w col_127,X
1776 2575 	jsr _writeln
1777 2577 	inc.w row_126,X
1778 2578 	jmp L_130
1779 2579 L_132
1780 2580 	dec.w row_126,X
1781 2582 	txs.w
1782 2583 	plx.w
1783 2584 	rts
1784 2585 	.ENDP	printisland_125
1785 2598 row_151	.EQ	-2
1786 2599 col_152	.EQ	-4
1787 2601 resetisland_150	.PROC
1788 2603 	phx.w
1789 2604 	tsx.w
1790 2605 	adj #-4
1791 2607 	lda #1
1792 2608 	sta.w row_151,X
1793 2609 L_153
1794 2610 	lda #9
1795 2611 	cmp.w row_151,X
1796 2612 	bge L_154
1797 2613 	jmp L_155
1798 2614 L_154
1799 2616 	lda #1
1800 2617 	sta.w col_152,X
1801 2618 L_156
1802 2619 	lda #9
1803 2620 	cmp.w col_152,X
1804 2621 	bge L_157
1805 2622 	jmp L_158
1806 2623 L_157
1807 2625 	psh.w #island_002
1808 2626 	lda.w row_151,X
1809 2629 	pha.w
1810 2630 	psh.w #22
1811 2631 	jsr _imul
1812 2632 	adj #4
1813 2634 	clc
1814 2635 	adc.w 0,S
1815 2636 	sta.w 0,S
1816 2637 	lda.w col_152,X
1817 2640 	asl.w a
1818 2642 	clc
1819 2643 	adc.w 0,S
1820 2644 	sta.w 0,S
1821 2646 	lda.w (0,S)
1822 2647 	adj #2
1823 2648 	pha.w
1824 2649 	lda #2
1825 2650 	xma.w 0,S
1826 2651 	cmp.w 0,S
1827 2652 	adj #2
1828 2653 	php
1829 2654 	lda #1
1830 2655 	plp
1831 2656 	beq L_161
1832 2657 	lda #0
1833 2658 L_161
1834 2659 	cmp.w #1
1835 2660 	beq L_159
1836 2661 	jmp  L_160
1837 2662 L_159
1838 2664 	psh.w #island_002
1839 2665 	lda.w row_151,X
1840 2668 	pha.w
1841 2669 	psh.w #22
1842 2670 	jsr _imul
1843 2671 	adj #4
1844 2673 	clc
1845 2674 	adc.w 0,S
1846 2675 	sta.w 0,S
1847 2676 	lda.w col_152,X
1848 2679 	asl.w a
1849 2681 	clc
1850 2682 	adc.w 0,S
1851 2683 	sta.w 0,S
1852 2684 	lda #0
1853 2686 	sta.w (0,S)
1854 2687 	adj #2
1855 2690 	jmp L_162
1856 2691 L_160
1857 2692 	psh.w #island_002
1858 2693 	lda.w row_151,X
1859 2696 	pha.w
1860 2697 	psh.w #22
1861 2698 	jsr _imul
1862 2699 	adj #4
1863 2701 	clc
1864 2702 	adc.w 0,S
1865 2703 	sta.w 0,S
1866 2704 	lda.w col_152,X
1867 2707 	asl.w a
1868 2709 	clc
1869 2710 	adc.w 0,S
1870 2711 	sta.w 0,S
1871 2713 	lda.w (0,S)
1872 2714 	adj #2
1873 2715 	pha.w
1874 2716 	lda #3
1875 2717 	xma.w 0,S
1876 2718 	cmp.w 0,S
1877 2719 	adj #2
1878 2720 	php
1879 2721 	lda #1
1880 2722 	plp
1881 2723 	beq L_165
1882 2724 	lda #0
1883 2725 L_165
1884 2726 	cmp.w #1
1885 2727 	beq L_163
1886 2728 	jmp  L_164
1887 2729 L_163
1888 2731 	psh.w #island_002
1889 2732 	lda.w row_151,X
1890 2735 	pha.w
1891 2736 	psh.w #22
1892 2737 	jsr _imul
1893 2738 	adj #4
1894 2740 	clc
1895 2741 	adc.w 0,S
1896 2742 	sta.w 0,S
1897 2743 	lda.w col_152,X
1898 2746 	asl.w a
1899 2748 	clc
1900 2749 	adc.w 0,S
1901 2750 	sta.w 0,S
1902 2751 	lda #1
1903 2753 	sta.w (0,S)
1904 2754 	adj #2
1905 2756 L_164
1906 2757 L_162
1907 2759 	inc.w col_152,X
1908 2760 	jmp L_156
1909 2761 L_158
1910 2762 	dec.w col_152,X
1911 2764 	inc.w row_151,X
1912 2765 	jmp L_153
1913 2766 L_155
1914 2767 	dec.w row_151,X
1915 2769 	txs.w
1916 2770 	plx.w
1917 2771 	rts
1918 2772 	.ENDP	resetisland_150
1919 2777 _pc65_main	.PROC
1920 2779 	phx.w
1921 2780 	tsx.w
1922 2783 	phx.w
1923 2784 	jsr initialize_013
1924 2785 	adj #2
1925 2788 	lda #0
1926 2789 	sta.w t_008
1927 2791 	lda #1
1928 2792 	sta.w xpt_009
1929 2794 	psh.w #seed_010
1930 2795 	jsr _iread
1931 2797 	sta.w (0,S)
1932 2798 	adj #2
1933 2801 	phx.w
1934 2802 	jsr printisland_125
1935 2803 	adj #2
1936 2807 L_166
1937 2809 	jsr _writeln
1938 2812 	lda.w t_008
1939 2813 	pha.w
1940 2814 	lda #1
1941 2816 	clc
1942 2817 	adc.w 0,S
1943 2818 	adj #2
1944 2819 	sta.w t_008
1945 2821 	phx.w
1946 2822 	jsr eventsoccur_104
1947 2823 	adj #2
1948 2825 	phx.w
1949 2826 	jsr resetisland_150
1950 2827 	adj #2
1951 2831 	lda.w t_008
1952 2832 	pha.w
1953 2833 	psh.w #printtimes_004
1954 2834 	lda.w xpt_009
1955 2835 	dec.w a
1956 2838 	asl.w a
1957 2840 	clc
1958 2841 	adc.w 0,S
1959 2842 	sta.w 0,S
1960 2844 	lda.w (0,S)
1961 2845 	adj #2
1962 2846 	xma.w 0,S
1963 2847 	cmp.w 0,S
1964 2848 	adj #2
1965 2849 	php
1966 2850 	lda #1
1967 2851 	plp
1968 2852 	beq L_170
1969 2853 	lda #0
1970 2854 L_170
1971 2855 	cmp.w #1
1972 2856 	beq L_168
1973 2857 	jmp  L_169
1974 2858 L_168
1975 2860 	phx.w
1976 2861 	jsr printisland_125
1977 2862 	adj #2
1978 2864 	lda.w xpt_009
1979 2865 	pha.w
1980 2866 	lda #1
1981 2868 	clc
1982 2869 	adc.w 0,S
1983 2870 	adj #2
1984 2871 	sta.w xpt_009
1985 2873 L_169
1986 2875 	lda.w numwolves_005
1987 2876 	pha.w
1988 2877 	lda #0
1989 2878 	xma.w 0,S
1990 2879 	cmp.w 0,S
1991 2880 	adj #2
1992 2881 	php
1993 2882 	lda #1
1994 2883 	plp
1995 2884 	beq L_171
1996 2885 	lda #0
1997 2886 L_171
1998 2887 	pha.w
1999 2888 	lda.w numrabbits_006
2000 2889 	pha.w
2001 2890 	lda #0
2002 2891 	xma.w 0,S
2003 2892 	cmp.w 0,S
2004 2893 	adj #2
2005 2894 	php
2006 2895 	lda #1
2007 2896 	plp
2008 2897 	beq L_172
2009 2898 	lda #0
2010 2899 L_172
2011 2902 	ora.w 0,S
2012 2903 	adj #2
2013 2904 	pha.w
2014 2905 	lda.w xpt_009
2015 2906 	pha.w
2016 2907 	lda.w numprinttimes_007
2017 2908 	xma.w 0,S
2018 2909 	cmp.w 0,S
2019 2910 	adj #2
2020 2911 	php
2021 2912 	lda #1
2022 2913 	plp
2023 2914 	bgt L_173
2024 2915 	lda #0
2025 2916 L_173
2026 2918 	ora.w 0,S
2027 2919 	adj #2
2028 2920 	cmp.w #1
2029 2921 	beq L_167
2030 2922 	jmp L_166
2031 2923 L_167
2032 2926 	phx.w
2033 2927 	jsr printisland_125
2034 2928 	adj #2
2035 2932 	plx.w
2036 2933 	rts
2037 2935 	.ENDP	_pc65_main
2038 2937 	.DATA
2039 2939 island_002	.DB	242
2040 2940 foodunits_003	.DB	162
2041 2941 printtimes_004	.DB	100
2042 2942 numwolves_005	.DB	2
2043 2943 numrabbits_006	.DB	2
2044 2944 numprinttimes_007	.DB	2
2045 2945 t_008	.DB	2
2046 2946 xpt_009	.DB	2
2047 2947 seed_010	.DB	2
2048 2948 rowoffset_011	.DB	10
2049 2949 coloffset_012	.DB	10
2050 2950 S_149	.DS	"r "
2051 2951 S_144	.DS	"W "
2052 2952 S_139	.DS	". "
2053 2953 S_129	.DS	" : Wolf Island"
2054 2954 S_103	.DS	" : Rabbit born at "
2055 2955 S_087	.DS	" : Wolf born at "
2056 2956 S_080	.DS	" : Rabbit eaten at "
2057 2957 S_071	.DS	", "
2058 2958 S_070	.DS	" : Wolf died at "
2059 2959 S_069	.DS	"t ="
2060 2961 	.END

   1    2 	.stk 1024
   2    3 	.cod 512
   3    4 STATIC_LINK .equ +5
   4    5 RETURN_VALUE .equ -3
   5    6 HIGH_RETURN_VALUE .equ -1
   6    7 _start
   7    8 	tsx.w
   8    9 	lds.w #16383
   9   10 	jmp _pc65_main
  10  122 i_014	.equ -1
  11  123 row_015	.equ -3
  12  124 col_016	.equ -5
  13  125 initialize_013	.sub
  14  126 	phx.w
  15  127 	tsx.w
  16  128 	adj #-6
  17  132 	lda #0
  18  133 	sta.w i_014,X
  19  134 L_017
  20  135 	lda #10
  21  136 	cmp.w i_014,X
  22  137 	bge L_018
  23  138 	jmp L_019
  24  139 L_018
  25  141 	psh.w #island_002
  26  142 	lda #0
  27  143 	pha.w
  28  144 	psh.w #22
  29  145 	jsr _imul
  30  146 	adj #4
  31  147 	clc
  32  148 	adc.w 1,S
  33  149 	sta.w 1,S
  34  150 	lda.w i_014,X
  35  151 	asl.w a
  36  152 	clc
  37  153 	adc.w 1,S
  38  154 	sta.w 1,S
  39  155 	lda #5
  40  156 	pli
  41  157 	sta.w 0,I++
  42  159 	psh.w #island_002
  43  160 	lda #10
  44  161 	pha.w
  45  162 	psh.w #22
  46  163 	jsr _imul
  47  164 	adj #4
  48  165 	clc
  49  166 	adc.w 1,S
  50  167 	sta.w 1,S
  51  168 	lda.w i_014,X
  52  169 	asl.w a
  53  170 	clc
  54  171 	adc.w 1,S
  55  172 	sta.w 1,S
  56  173 	lda #5
  57  174 	pli
  58  175 	sta.w 0,I++
  59  177 	psh.w #island_002
  60  178 	lda.w i_014,X
  61  179 	pha.w
  62  180 	psh.w #22
  63  181 	jsr _imul
  64  182 	adj #4
  65  183 	clc
  66  184 	adc.w 1,S
  67  185 	sta.w 1,S
  68  186 	lda #0
  69  187 	asl.w a
  70  188 	clc
  71  189 	adc.w 1,S
  72  190 	sta.w 1,S
  73  191 	lda #5
  74  192 	pli
  75  193 	sta.w 0,I++
  76  195 	psh.w #island_002
  77  196 	lda.w i_014,X
  78  197 	pha.w
  79  198 	psh.w #22
  80  199 	jsr _imul
  81  200 	adj #4
  82  201 	clc
  83  202 	adc.w 1,S
  84  203 	sta.w 1,S
  85  204 	lda #10
  86  205 	asl.w a
  87  206 	clc
  88  207 	adc.w 1,S
  89  208 	sta.w 1,S
  90  209 	lda #5
  91  210 	pli
  92  211 	sta.w 0,I++
  93  213 	inc.w i_014,X
  94  214 	jmp L_017
  95  215 L_019
  96  216 	dec.w i_014,X
  97  218 	lda #1
  98  219 	sta.w row_015,X
  99  220 L_020
 100  221 	lda #9
 101  222 	cmp.w row_015,X
 102  223 	bge L_021
 103  224 	jmp L_022
 104  225 L_021
 105  227 	lda #1
 106  228 	sta.w col_016,X
 107  229 L_023
 108  230 	lda #9
 109  231 	cmp.w col_016,X
 110  232 	bge L_024
 111  233 	jmp L_025
 112  234 L_024
 113  236 	psh.w #island_002
 114  237 	lda.w row_015,X
 115  238 	pha.w
 116  239 	psh.w #22
 117  240 	jsr _imul
 118  241 	adj #4
 119  242 	clc
 120  243 	adc.w 1,S
 121  244 	sta.w 1,S
 122  245 	lda.w col_016,X
 123  246 	asl.w a
 124  247 	clc
 125  248 	adc.w 1,S
 126  249 	sta.w 1,S
 127  250 	lda #4
 128  251 	pli
 129  252 	sta.w 0,I++
 130  254 	psh.w #foodunits_003
 131  255 	lda.w row_015,X
 132  256 	dec.w a
 133  257 	pha.w
 134  258 	psh.w #18
 135  259 	jsr _imul
 136  260 	adj #4
 137  261 	clc
 138  262 	adc.w 1,S
 139  263 	sta.w 1,S
 140  264 	lda.w col_016,X
 141  265 	dec.w a
 142  266 	asl.w a
 143  267 	clc
 144  268 	adc.w 1,S
 145  269 	sta.w 1,S
 146  270 	lda #0
 147  271 	pli
 148  272 	sta.w 0,I++
 149  274 	inc.w col_016,X
 150  275 	jmp L_023
 151  276 L_025
 152  277 	dec.w col_016,X
 153  279 	inc.w row_015,X
 154  280 	jmp L_020
 155  281 L_022
 156  282 	dec.w row_015,X
 157  286 	psh.w #numwolves_005
 158  287 	jsr _iread
 159  288 	pli
 160  289 	sta.w 0,I++
 161  291 	lda #1
 162  292 	sta.w i_014,X
 163  293 L_026
 164  294 	lda.w numwolves_005
 165  295 	cmp.w i_014,X
 166  296 	bge L_027
 167  297 	jmp L_028
 168  298 L_027
 169  300 	txa.w
 170  301 	clc
 171  302 	adc.w #row_015
 172  303 	pha.w
 173  304 	jsr _iread
 174  305 	pli
 175  306 	sta.w 0,I++
 176  307 	txa.w
 177  308 	clc
 178  309 	adc.w #col_016
 179  310 	pha.w
 180  311 	jsr _iread
 181  312 	pli
 182  313 	sta.w 0,I++
 183  315 	psh.w #island_002
 184  316 	lda.w row_015,X
 185  317 	pha.w
 186  318 	psh.w #22
 187  319 	jsr _imul
 188  320 	adj #4
 189  321 	clc
 190  322 	adc.w 1,S
 191  323 	sta.w 1,S
 192  324 	lda.w col_016,X
 193  325 	asl.w a
 194  326 	clc
 195  327 	adc.w 1,S
 196  328 	sta.w 1,S
 197  329 	lda #0
 198  330 	pli
 199  331 	sta.w 0,I++
 200  333 	psh.w #foodunits_003
 201  334 	lda.w row_015,X
 202  335 	dec.w a
 203  336 	pha.w
 204  337 	psh.w #18
 205  338 	jsr _imul
 206  339 	adj #4
 207  340 	clc
 208  341 	adc.w 1,S
 209  342 	sta.w 1,S
 210  343 	lda.w col_016,X
 211  344 	dec.w a
 212  345 	asl.w a
 213  346 	clc
 214  347 	adc.w 1,S
 215  348 	sta.w 1,S
 216  349 	lda #6
 217  350 	pli
 218  351 	sta.w 0,I++
 219  353 	inc.w i_014,X
 220  354 	jmp L_026
 221  355 L_028
 222  356 	dec.w i_014,X
 223  360 	psh.w #numrabbits_006
 224  361 	jsr _iread
 225  362 	pli
 226  363 	sta.w 0,I++
 227  365 	lda #1
 228  366 	sta.w i_014,X
 229  367 L_029
 230  368 	lda.w numrabbits_006
 231  369 	cmp.w i_014,X
 232  370 	bge L_030
 233  371 	jmp L_031
 234  372 L_030
 235  374 	txa.w
 236  375 	clc
 237  376 	adc.w #row_015
 238  377 	pha.w
 239  378 	jsr _iread
 240  379 	pli
 241  380 	sta.w 0,I++
 242  381 	txa.w
 243  382 	clc
 244  383 	adc.w #col_016
 245  384 	pha.w
 246  385 	jsr _iread
 247  386 	pli
 248  387 	sta.w 0,I++
 249  389 	psh.w #island_002
 250  390 	lda.w row_015,X
 251  391 	pha.w
 252  392 	psh.w #22
 253  393 	jsr _imul
 254  394 	adj #4
 255  395 	clc
 256  396 	adc.w 1,S
 257  397 	sta.w 1,S
 258  398 	lda.w col_016,X
 259  399 	asl.w a
 260  400 	clc
 261  401 	adc.w 1,S
 262  402 	sta.w 1,S
 263  403 	lda #1
 264  404 	pli
 265  405 	sta.w 0,I++
 266  407 	inc.w i_014,X
 267  408 	jmp L_029
 268  409 L_031
 269  410 	dec.w i_014,X
 270  414 	psh.w #numprinttimes_007
 271  415 	jsr _iread
 272  416 	pli
 273  417 	sta.w 0,I++
 274  419 	lda #1
 275  420 	sta.w i_014,X
 276  421 L_032
 277  422 	lda.w numprinttimes_007
 278  423 	cmp.w i_014,X
 279  424 	bge L_033
 280  425 	jmp L_034
 281  426 L_033
 282  428 	psh.w #printtimes_004
 283  429 	lda.w i_014,X
 284  430 	dec.w a
 285  431 	asl.w a
 286  432 	clc
 287  433 	adc.w 1,S
 288  434 	sta.w 1,S
 289  435 	jsr _iread
 290  436 	pli
 291  437 	sta.w 0,I++
 292  439 	inc.w i_014,X
 293  440 	jmp L_032
 294  441 L_034
 295  442 	dec.w i_014,X
 296  446 	psh.w #rowoffset_011
 297  447 	lda #0
 298  448 	asl.w a
 299  449 	clc
 300  450 	adc.w 1,S
 301  451 	sta.w 1,S
 302  452 	lda #0
 303  453 	pli
 304  454 	sta.w 0,I++
 305  455 	psh.w #coloffset_012
 306  456 	lda #0
 307  457 	asl.w a
 308  458 	clc
 309  459 	adc.w 1,S
 310  460 	sta.w 1,S
 311  461 	lda #0
 312  462 	pli
 313  463 	sta.w 0,I++
 314  465 	psh.w #rowoffset_011
 315  466 	lda #1
 316  467 	asl.w a
 317  468 	clc
 318  469 	adc.w 1,S
 319  470 	sta.w 1,S
 320  471 	lda #1
 321  472 	eor.w #-1
 322  473 	inc.w a
 323  474 	pli
 324  475 	sta.w 0,I++
 325  476 	psh.w #coloffset_012
 326  477 	lda #1
 327  478 	asl.w a
 328  479 	clc
 329  480 	adc.w 1,S
 330  481 	sta.w 1,S
 331  482 	lda #0
 332  483 	pli
 333  484 	sta.w 0,I++
 334  486 	psh.w #rowoffset_011
 335  487 	lda #2
 336  488 	asl.w a
 337  489 	clc
 338  490 	adc.w 1,S
 339  491 	sta.w 1,S
 340  492 	lda #0
 341  493 	pli
 342  494 	sta.w 0,I++
 343  495 	psh.w #coloffset_012
 344  496 	lda #2
 345  497 	asl.w a
 346  498 	clc
 347  499 	adc.w 1,S
 348  500 	sta.w 1,S
 349  501 	lda #1
 350  502 	eor.w #-1
 351  503 	inc.w a
 352  504 	pli
 353  505 	sta.w 0,I++
 354  507 	psh.w #rowoffset_011
 355  508 	lda #3
 356  509 	asl.w a
 357  510 	clc
 358  511 	adc.w 1,S
 359  512 	sta.w 1,S
 360  513 	lda #0
 361  514 	pli
 362  515 	sta.w 0,I++
 363  516 	psh.w #coloffset_012
 364  517 	lda #3
 365  518 	asl.w a
 366  519 	clc
 367  520 	adc.w 1,S
 368  521 	sta.w 1,S
 369  522 	lda #1
 370  523 	pli
 371  524 	sta.w 0,I++
 372  526 	psh.w #rowoffset_011
 373  527 	lda #4
 374  528 	asl.w a
 375  529 	clc
 376  530 	adc.w 1,S
 377  531 	sta.w 1,S
 378  532 	lda #1
 379  533 	pli
 380  534 	sta.w 0,I++
 381  535 	psh.w #coloffset_012
 382  536 	lda #4
 383  537 	asl.w a
 384  538 	clc
 385  539 	adc.w 1,S
 386  540 	sta.w 1,S
 387  541 	lda #0
 388  542 	pli
 389  543 	sta.w 0,I++
 390  545 	txs.w
 391  546 	plx.w
 392  547 	rts
 393  548 	.end initialize_013
 394  561 limit_036	.equ +7
 395  562 random_035	.sub
 396  563 	phx.w
 397  564 	tsx.w
 398  565 	adj #-4
 399  567 	lda.w seed_010
 400  568 	pha.w
 401  569 	lda #21
 402  570 	pha.w
 403  571 	jsr _imul
 404  572 	adj #4
 405  573 	pha.w
 406  574 	lda #77
 407  575 	clc
 408  576 	adc.w 1,S
 409  577 	adj #2
 410  578 	pha.w
 411  579 	lda.w #1024
 412  580 	pha.w
 413  581 	jsr _idiv
 414  582 	adj #4
 415  583 	swp a
 416  584 	sta.w seed_010
 417  586 	lda.w seed_010
 418  587 	pha.w
 419  588 	lda.w limit_036,X
 420  589 	pha.w
 421  590 	jsr _imul
 422  591 	adj #4
 423  592 	pha.w
 424  593 	lda.w #1024
 425  594 	pha.w
 426  595 	jsr _idiv
 427  596 	adj #4
 428  597 	sta.w RETURN_VALUE,X
 429  599 	lda.w RETURN_VALUE,X
 430  600 	txs.w
 431  601 	plx.w
 432  602 	rts
 433  603 	.end random_035
 434  620 creature_038	.equ +15
 435  621 oldrow_039	.equ +13
 436  622 oldcol_040	.equ +11
 437  623 newrow_041	.equ +9
 438  624 newcol_042	.equ +7
 439  625 adj_043	.equ -1
 440  626 what_044	.equ -3
 441  627 done_045	.equ -5
 442  628 newlocation_037	.sub
 443  629 	phx.w
 444  630 	tsx.w
 445  631 	adj #-6
 446  633 	lda #0
 447  634 	sta.w done_045,X
 448  639 	lda.w creature_038,X
 449  640 	pha.w
 450  641 	lda #0
 451  642 	xma.w 1,S
 452  643 	cmp.w 1,S
 453  644 	adj #2
 454  645 	php
 455  646 	lda #1
 456  647 	plp
 457  648 	beq L_048
 458  649 	lda #0
 459  650 L_048
 460  651 	cmp.w #1
 461  652 	beq L_046
 462  653 	jmp L_047
 463  654 L_046
 464  656 	lda #0
 465  657 	sta.w adj_043,X
 466  659 L_049
 467  661 	lda.w adj_043,X
 468  662 	pha.w
 469  663 	lda #1
 470  664 	clc
 471  665 	adc.w 1,S
 472  666 	adj #2
 473  667 	sta.w adj_043,X
 474  669 	lda.w newrow_041,X
 475  670 	pha.w
 476  671 	lda.w oldrow_039,X
 477  672 	pha.w
 478  673 	psh.w #rowoffset_011
 479  674 	lda.w adj_043,X
 480  675 	asl.w a
 481  676 	clc
 482  677 	adc.w 1,S
 483  678 	sta.w 1,S
 484  679 	pli
 485  680 	lda.w 0,I++
 486  681 	clc
 487  682 	adc.w 1,S
 488  683 	adj #2
 489  684 	pli
 490  685 	sta.w 0,I++
 491  687 	lda.w newcol_042,X
 492  688 	pha.w
 493  689 	lda.w oldcol_040,X
 494  690 	pha.w
 495  691 	psh.w #coloffset_012
 496  692 	lda.w adj_043,X
 497  693 	asl.w a
 498  694 	clc
 499  695 	adc.w 1,S
 500  696 	sta.w 1,S
 501  697 	pli
 502  698 	lda.w 0,I++
 503  699 	clc
 504  700 	adc.w 1,S
 505  701 	adj #2
 506  702 	pli
 507  703 	sta.w 0,I++
 508  705 	psh.w #island_002
 509  706 	lda.w (newrow_041,X)
 510  707 	pha.w
 511  708 	psh.w #22
 512  709 	jsr _imul
 513  710 	adj #4
 514  711 	clc
 515  712 	adc.w 1,S
 516  713 	sta.w 1,S
 517  714 	lda.w (newcol_042,X)
 518  715 	asl.w a
 519  716 	clc
 520  717 	adc.w 1,S
 521  718 	sta.w 1,S
 522  719 	pli
 523  720 	lda.w 0,I++
 524  721 	sta.w what_044,X
 525  723 	lda.w what_044,X
 526  724 	pha.w
 527  725 	lda #1
 528  726 	xma.w 1,S
 529  727 	cmp.w 1,S
 530  728 	adj #2
 531  729 	php
 532  730 	lda #1
 533  731 	plp
 534  732 	beq L_051
 535  733 	lda #0
 536  734 L_051
 537  735 	sta.w done_045,X
 538  737 	lda.w done_045,X
 539  738 	pha.w
 540  739 	lda.w adj_043,X
 541  740 	pha.w
 542  741 	lda #4
 543  742 	xma.w 1,S
 544  743 	cmp.w 1,S
 545  744 	adj #2
 546  745 	php
 547  746 	lda #1
 548  747 	plp
 549  748 	beq L_052
 550  749 	lda #0
 551  750 L_052
 552  751 	ora.w 1,S
 553  752 	adj #2
 554  753 	cmp.w #1
 555  754 	beq L_050
 556  755 	jmp L_049
 557  756 L_050
 558  758 L_047
 559  762 	lda.w done_045,X
 560  763 	eor #1
 561  764 	cmp.w #1
 562  765 	beq L_053
 563  766 	jmp L_054
 564  767 L_053
 565  769 L_055
 566  771 	lda #5
 567  772 	pha.w
 568  773 	lda.w STATIC_LINK,X
 569  774 	pha.w
 570  775 	jsr random_035
 571  776 	adj #4
 572  777 	sta.w adj_043,X
 573  779 	lda.w newrow_041,X
 574  780 	pha.w
 575  781 	lda.w oldrow_039,X
 576  782 	pha.w
 577  783 	psh.w #rowoffset_011
 578  784 	lda.w adj_043,X
 579  785 	asl.w a
 580  786 	clc
 581  787 	adc.w 1,S
 582  788 	sta.w 1,S
 583  789 	pli
 584  790 	lda.w 0,I++
 585  791 	clc
 586  792 	adc.w 1,S
 587  793 	adj #2
 588  794 	pli
 589  795 	sta.w 0,I++
 590  797 	lda.w newcol_042,X
 591  798 	pha.w
 592  799 	lda.w oldcol_040,X
 593  800 	pha.w
 594  801 	psh.w #coloffset_012
 595  802 	lda.w adj_043,X
 596  803 	asl.w a
 597  804 	clc
 598  805 	adc.w 1,S
 599  806 	sta.w 1,S
 600  807 	pli
 601  808 	lda.w 0,I++
 602  809 	clc
 603  810 	adc.w 1,S
 604  811 	adj #2
 605  812 	pli
 606  813 	sta.w 0,I++
 607  815 	psh.w #island_002
 608  816 	lda.w (newrow_041,X)
 609  817 	pha.w
 610  818 	psh.w #22
 611  819 	jsr _imul
 612  820 	adj #4
 613  821 	clc
 614  822 	adc.w 1,S
 615  823 	sta.w 1,S
 616  824 	lda.w (newcol_042,X)
 617  825 	asl.w a
 618  826 	clc
 619  827 	adc.w 1,S
 620  828 	sta.w 1,S
 621  829 	pli
 622  830 	lda.w 0,I++
 623  831 	sta.w what_044,X
 624  833 	lda.w what_044,X
 625  834 	pha.w
 626  835 	lda #4
 627  836 	xma.w 1,S
 628  837 	cmp.w 1,S
 629  838 	adj #2
 630  839 	php
 631  840 	lda #1
 632  841 	plp
 633  842 	beq L_057
 634  843 	lda #0
 635  844 L_057
 636  846 	pha.w
 637  847 	lda.w (newrow_041,X)
 638  848 	pha.w
 639  849 	lda.w oldrow_039,X
 640  850 	xma.w 1,S
 641  851 	cmp.w 1,S
 642  852 	adj #2
 643  853 	php
 644  854 	lda #1
 645  855 	plp
 646  856 	beq L_058
 647  857 	lda #0
 648  858 L_058
 649  859 	pha.w
 650  860 	lda.w (newcol_042,X)
 651  861 	pha.w
 652  862 	lda.w oldcol_040,X
 653  863 	xma.w 1,S
 654  864 	cmp.w 1,S
 655  865 	adj #2
 656  866 	php
 657  867 	lda #1
 658  868 	plp
 659  869 	beq L_059
 660  870 	lda #0
 661  871 L_059
 662  872 	and.w 1,S
 663  873 	adj #2
 664  874 	ora.w 1,S
 665  875 	adj #2
 666  876 	cmp.w #1
 667  877 	beq L_056
 668  878 	jmp L_055
 669  879 L_056
 670  881 L_054
 671  883 	txs.w
 672  884 	plx.w
 673  885 	rts
 674  886 	.end newlocation_037
 675  898 oldrow_061	.equ +9
 676  899 oldcol_062	.equ +7
 677  900 newrow_063	.equ -1
 678  901 newcol_064	.equ -3
 679  902 moved_065	.equ -5
 680  903 processwolf_060	.sub
 681  904 	phx.w
 682  905 	tsx.w
 683  906 	adj #-6
 684  910 	psh.w #foodunits_003
 685  911 	lda.w oldrow_061,X
 686  912 	dec.w a
 687  913 	pha.w
 688  914 	psh.w #18
 689  915 	jsr _imul
 690  916 	adj #4
 691  917 	clc
 692  918 	adc.w 1,S
 693  919 	sta.w 1,S
 694  920 	lda.w oldcol_062,X
 695  921 	dec.w a
 696  922 	asl.w a
 697  923 	clc
 698  924 	adc.w 1,S
 699  925 	sta.w 1,S
 700  926 	psh.w #foodunits_003
 701  927 	lda.w oldrow_061,X
 702  928 	dec.w a
 703  929 	pha.w
 704  930 	psh.w #18
 705  931 	jsr _imul
 706  932 	adj #4
 707  933 	clc
 708  934 	adc.w 1,S
 709  935 	sta.w 1,S
 710  936 	lda.w oldcol_062,X
 711  937 	dec.w a
 712  938 	asl.w a
 713  939 	clc
 714  940 	adc.w 1,S
 715  941 	sta.w 1,S
 716  942 	pli
 717  943 	lda.w 0,I++
 718  944 	pha.w
 719  945 	lda #1
 720  946 	xma.w 1,S
 721  947 	sec
 722  948 	sbc.w 1,S
 723  949 	adj #2
 724  950 	pli
 725  951 	sta.w 0,I++
 726  954 	psh.w #foodunits_003
 727  955 	lda.w oldrow_061,X
 728  956 	dec.w a
 729  957 	pha.w
 730  958 	psh.w #18
 731  959 	jsr _imul
 732  960 	adj #4
 733  961 	clc
 734  962 	adc.w 1,S
 735  963 	sta.w 1,S
 736  964 	lda.w oldcol_062,X
 737  965 	dec.w a
 738  966 	asl.w a
 739  967 	clc
 740  968 	adc.w 1,S
 741  969 	sta.w 1,S
 742  970 	pli
 743  971 	lda.w 0,I++
 744  972 	pha.w
 745  973 	lda #0
 746  974 	xma.w 1,S
 747  975 	cmp.w 1,S
 748  976 	adj #2
 749  977 	php
 750  978 	lda #1
 751  979 	plp
 752  980 	beq L_068
 753  981 	lda #0
 754  982 L_068
 755  983 	cmp.w #1
 756  984 	beq L_066
 757  985 	jmp L_067
 758  986 L_066
 759  990 	psh.w #island_002
 760  991 	lda.w oldrow_061,X
 761  992 	pha.w
 762  993 	psh.w #22
 763  994 	jsr _imul
 764  995 	adj #4
 765  996 	clc
 766  997 	adc.w 1,S
 767  998 	sta.w 1,S
 768  999 	lda.w oldcol_062,X
 769 1000 	asl.w a
 770 1001 	clc
 771 1002 	adc.w 1,S
 772 1003 	sta.w 1,S
 773 1004 	lda #4
 774 1005 	pli
 775 1006 	sta.w 0,I++
 776 1008 	lda.w numwolves_005
 777 1009 	pha.w
 778 1010 	lda #1
 779 1011 	xma.w 1,S
 780 1012 	sec
 781 1013 	sbc.w 1,S
 782 1014 	adj #2
 783 1015 	sta.w numwolves_005
 784 1017 	psh.w #S_069
 785 1018 	psh.w #0
 786 1019 	psh.w #3
 787 1020 	jsr _swrite
 788 1021 	adj #6
 789 1022 	lda.w t_008
 790 1023 	pha.w
 791 1024 	lda #4
 792 1025 	pha.w
 793 1026 	jsr _iwrite
 794 1027 	adj #4
 795 1028 	psh.w #S_070
 796 1029 	psh.w #0
 797 1030 	psh.w #16
 798 1031 	jsr _swrite
 799 1032 	adj #6
 800 1034 	lda #91
 801 1035 	pha.w
 802 1036 	psh.w #0
 803 1037 	jsr _cwrite
 804 1038 	adj #4
 805 1039 	lda.w oldrow_061,X
 806 1040 	pha.w
 807 1041 	lda #1
 808 1042 	pha.w
 809 1043 	jsr _iwrite
 810 1044 	adj #4
 811 1045 	psh.w #S_071
 812 1046 	psh.w #0
 813 1047 	psh.w #2
 814 1048 	jsr _swrite
 815 1049 	adj #6
 816 1050 	lda.w oldcol_062,X
 817 1051 	pha.w
 818 1052 	lda #1
 819 1053 	pha.w
 820 1054 	jsr _iwrite
 821 1055 	adj #4
 822 1056 	lda #93
 823 1057 	pha.w
 824 1058 	psh.w #0
 825 1059 	jsr _cwrite
 826 1060 	adj #4
 827 1061 	jsr _writeln
 828 1064 	jmp L_072
 829 1065 L_067
 830 1069 	lda #0
 831 1070 	pha.w
 832 1071 	lda.w oldrow_061,X
 833 1072 	pha.w
 834 1073 	lda.w oldcol_062,X
 835 1074 	pha.w
 836 1075 	txa.w
 837 1076 	clc
 838 1077 	adc.w #newrow_063
 839 1078 	pha.w
 840 1079 	txa.w
 841 1080 	clc
 842 1081 	adc.w #newcol_064
 843 1082 	pha.w
 844 1083 	lda.w STATIC_LINK,X
 845 1084 	pha.w
 846 1085 	jsr newlocation_037
 847 1086 	adj #12
 848 1088 	lda.w newrow_063,X
 849 1089 	pha.w
 850 1090 	lda.w oldrow_061,X
 851 1091 	xma.w 1,S
 852 1092 	cmp.w 1,S
 853 1093 	adj #2
 854 1094 	php
 855 1095 	lda #1
 856 1096 	plp
 857 1097 	bne L_073
 858 1098 	lda #0
 859 1099 L_073
 860 1100 	pha.w
 861 1101 	lda.w newcol_064,X
 862 1102 	pha.w
 863 1103 	lda.w oldcol_062,X
 864 1104 	xma.w 1,S
 865 1105 	cmp.w 1,S
 866 1106 	adj #2
 867 1107 	php
 868 1108 	lda #1
 869 1109 	plp
 870 1110 	bne L_074
 871 1111 	lda #0
 872 1112 L_074
 873 1113 	ora.w 1,S
 874 1114 	adj #2
 875 1115 	sta.w moved_065,X
 876 1118 	lda.w moved_065,X
 877 1119 	cmp.w #1
 878 1120 	beq L_075
 879 1121 	jmp L_076
 880 1122 L_075
 881 1126 	psh.w #island_002
 882 1127 	lda.w newrow_063,X
 883 1128 	pha.w
 884 1129 	psh.w #22
 885 1130 	jsr _imul
 886 1131 	adj #4
 887 1132 	clc
 888 1133 	adc.w 1,S
 889 1134 	sta.w 1,S
 890 1135 	lda.w newcol_064,X
 891 1136 	asl.w a
 892 1137 	clc
 893 1138 	adc.w 1,S
 894 1139 	sta.w 1,S
 895 1140 	pli
 896 1141 	lda.w 0,I++
 897 1142 	pha.w
 898 1143 	lda #1
 899 1144 	xma.w 1,S
 900 1145 	cmp.w 1,S
 901 1146 	adj #2
 902 1147 	php
 903 1148 	lda #1
 904 1149 	plp
 905 1150 	beq L_079
 906 1151 	lda #0
 907 1152 L_079
 908 1153 	cmp.w #1
 909 1154 	beq L_077
 910 1155 	jmp L_078
 911 1156 L_077
 912 1158 	psh.w #foodunits_003
 913 1159 	lda.w oldrow_061,X
 914 1160 	dec.w a
 915 1161 	pha.w
 916 1162 	psh.w #18
 917 1163 	jsr _imul
 918 1164 	adj #4
 919 1165 	clc
 920 1166 	adc.w 1,S
 921 1167 	sta.w 1,S
 922 1168 	lda.w oldcol_062,X
 923 1169 	dec.w a
 924 1170 	asl.w a
 925 1171 	clc
 926 1172 	adc.w 1,S
 927 1173 	sta.w 1,S
 928 1175 	psh.w #foodunits_003
 929 1176 	lda.w oldrow_061,X
 930 1177 	dec.w a
 931 1178 	pha.w
 932 1179 	psh.w #18
 933 1180 	jsr _imul
 934 1181 	adj #4
 935 1182 	clc
 936 1183 	adc.w 1,S
 937 1184 	sta.w 1,S
 938 1185 	lda.w oldcol_062,X
 939 1186 	dec.w a
 940 1187 	asl.w a
 941 1188 	clc
 942 1189 	adc.w 1,S
 943 1190 	sta.w 1,S
 944 1191 	pli
 945 1192 	lda.w 0,I++
 946 1193 	pha.w
 947 1194 	lda #6
 948 1195 	clc
 949 1196 	adc.w 1,S
 950 1197 	adj #2
 951 1198 	pli
 952 1199 	sta.w 0,I++
 953 1201 	lda.w numrabbits_006
 954 1202 	pha.w
 955 1203 	lda #1
 956 1204 	xma.w 1,S
 957 1205 	sec
 958 1206 	sbc.w 1,S
 959 1207 	adj #2
 960 1208 	sta.w numrabbits_006
 961 1210 	psh.w #S_069
 962 1211 	psh.w #0
 963 1212 	psh.w #3
 964 1213 	jsr _swrite
 965 1214 	adj #6
 966 1215 	lda.w t_008
 967 1216 	pha.w
 968 1217 	lda #4
 969 1218 	pha.w
 970 1219 	jsr _iwrite
 971 1220 	adj #4
 972 1221 	psh.w #S_080
 973 1222 	psh.w #0
 974 1223 	psh.w #19
 975 1224 	jsr _swrite
 976 1225 	adj #6
 977 1227 	lda #91
 978 1228 	pha.w
 979 1229 	psh.w #0
 980 1230 	jsr _cwrite
 981 1231 	adj #4
 982 1232 	lda.w newrow_063,X
 983 1233 	pha.w
 984 1234 	lda #1
 985 1235 	pha.w
 986 1236 	jsr _iwrite
 987 1237 	adj #4
 988 1238 	psh.w #S_071
 989 1239 	psh.w #0
 990 1240 	psh.w #2
 991 1241 	jsr _swrite
 992 1242 	adj #6
 993 1243 	lda.w newcol_064,X
 994 1244 	pha.w
 995 1245 	lda #1
 996 1246 	pha.w
 997 1247 	jsr _iwrite
 998 1248 	adj #4
 999 1249 	lda #93
1000 1250 	pha.w
1001 1251 	psh.w #0
1002 1252 	jsr _cwrite
1003 1253 	adj #4
1004 1254 	jsr _writeln
1005 1256 L_078
1006 1260 	psh.w #island_002
1007 1261 	lda.w newrow_063,X
1008 1262 	pha.w
1009 1263 	psh.w #22
1010 1264 	jsr _imul
1011 1265 	adj #4
1012 1266 	clc
1013 1267 	adc.w 1,S
1014 1268 	sta.w 1,S
1015 1269 	lda.w newcol_064,X
1016 1270 	asl.w a
1017 1271 	clc
1018 1272 	adc.w 1,S
1019 1273 	sta.w 1,S
1020 1274 	lda #2
1021 1275 	pli
1022 1276 	sta.w 0,I++
1023 1278 	psh.w #island_002
1024 1279 	lda.w oldrow_061,X
1025 1280 	pha.w
1026 1281 	psh.w #22
1027 1282 	jsr _imul
1028 1283 	adj #4
1029 1284 	clc
1030 1285 	adc.w 1,S
1031 1286 	sta.w 1,S
1032 1287 	lda.w oldcol_062,X
1033 1288 	asl.w a
1034 1289 	clc
1035 1290 	adc.w 1,S
1036 1291 	sta.w 1,S
1037 1292 	lda #4
1038 1293 	pli
1039 1294 	sta.w 0,I++
1040 1296 	psh.w #foodunits_003
1041 1297 	lda.w newrow_063,X
1042 1298 	dec.w a
1043 1299 	pha.w
1044 1300 	psh.w #18
1045 1301 	jsr _imul
1046 1302 	adj #4
1047 1303 	clc
1048 1304 	adc.w 1,S
1049 1305 	sta.w 1,S
1050 1306 	lda.w newcol_064,X
1051 1307 	dec.w a
1052 1308 	asl.w a
1053 1309 	clc
1054 1310 	adc.w 1,S
1055 1311 	sta.w 1,S
1056 1312 	psh.w #foodunits_003
1057 1313 	lda.w oldrow_061,X
1058 1314 	dec.w a
1059 1315 	pha.w
1060 1316 	psh.w #18
1061 1317 	jsr _imul
1062 1318 	adj #4
1063 1319 	clc
1064 1320 	adc.w 1,S
1065 1321 	sta.w 1,S
1066 1322 	lda.w oldcol_062,X
1067 1323 	dec.w a
1068 1324 	asl.w a
1069 1325 	clc
1070 1326 	adc.w 1,S
1071 1327 	sta.w 1,S
1072 1328 	pli
1073 1329 	lda.w 0,I++
1074 1330 	pli
1075 1331 	sta.w 0,I++
1076 1333 	psh.w #foodunits_003
1077 1334 	lda.w oldrow_061,X
1078 1335 	dec.w a
1079 1336 	pha.w
1080 1337 	psh.w #18
1081 1338 	jsr _imul
1082 1339 	adj #4
1083 1340 	clc
1084 1341 	adc.w 1,S
1085 1342 	sta.w 1,S
1086 1343 	lda.w oldcol_062,X
1087 1344 	dec.w a
1088 1345 	asl.w a
1089 1346 	clc
1090 1347 	adc.w 1,S
1091 1348 	sta.w 1,S
1092 1349 	lda #0
1093 1350 	pli
1094 1351 	sta.w 0,I++
1095 1353 L_076
1096 1357 	lda.w t_008
1097 1358 	pha.w
1098 1359 	lda #12
1099 1360 	pha.w
1100 1361 	jsr _idiv
1101 1362 	adj #4
1102 1363 	swp a
1103 1364 	pha.w
1104 1365 	lda #0
1105 1366 	xma.w 1,S
1106 1367 	cmp.w 1,S
1107 1368 	adj #2
1108 1369 	php
1109 1370 	lda #1
1110 1371 	plp
1111 1372 	beq L_083
1112 1373 	lda #0
1113 1374 L_083
1114 1376 	pha.w
1115 1377 	psh.w #foodunits_003
1116 1378 	lda.w newrow_063,X
1117 1379 	dec.w a
1118 1380 	pha.w
1119 1381 	psh.w #18
1120 1382 	jsr _imul
1121 1383 	adj #4
1122 1384 	clc
1123 1385 	adc.w 1,S
1124 1386 	sta.w 1,S
1125 1387 	lda.w newcol_064,X
1126 1388 	dec.w a
1127 1389 	asl.w a
1128 1390 	clc
1129 1391 	adc.w 1,S
1130 1392 	sta.w 1,S
1131 1393 	pli
1132 1394 	lda.w 0,I++
1133 1395 	pha.w
1134 1396 	lda #1
1135 1397 	xma.w 1,S
1136 1398 	cmp.w 1,S
1137 1399 	adj #2
1138 1400 	php
1139 1401 	lda #1
1140 1402 	plp
1141 1403 	bgt L_084
1142 1404 	lda #0
1143 1405 L_084
1144 1406 	and.w 1,S
1145 1407 	adj #2
1146 1408 	cmp.w #1
1147 1409 	beq L_081
1148 1410 	jmp L_082
1149 1411 L_081
1150 1413 	psh.w #foodunits_003
1151 1414 	lda.w newrow_063,X
1152 1415 	dec.w a
1153 1416 	pha.w
1154 1417 	psh.w #18
1155 1418 	jsr _imul
1156 1419 	adj #4
1157 1420 	clc
1158 1421 	adc.w 1,S
1159 1422 	sta.w 1,S
1160 1423 	lda.w newcol_064,X
1161 1424 	dec.w a
1162 1425 	asl.w a
1163 1426 	clc
1164 1427 	adc.w 1,S
1165 1428 	sta.w 1,S
1166 1430 	psh.w #foodunits_003
1167 1431 	lda.w newrow_063,X
1168 1432 	dec.w a
1169 1433 	pha.w
1170 1434 	psh.w #18
1171 1435 	jsr _imul
1172 1436 	adj #4
1173 1437 	clc
1174 1438 	adc.w 1,S
1175 1439 	sta.w 1,S
1176 1440 	lda.w newcol_064,X
1177 1441 	dec.w a
1178 1442 	asl.w a
1179 1443 	clc
1180 1444 	adc.w 1,S
1181 1445 	sta.w 1,S
1182 1446 	pli
1183 1447 	lda.w 0,I++
1184 1448 	pha.w
1185 1449 	lda #2
1186 1450 	pha.w
1187 1451 	jsr _idiv
1188 1452 	adj #4
1189 1453 	pli
1190 1454 	sta.w 0,I++
1191 1458 	lda.w moved_065,X
1192 1459 	cmp.w #1
1193 1460 	beq L_085
1194 1461 	jmp L_086
1195 1462 L_085
1196 1464 	psh.w #island_002
1197 1465 	lda.w oldrow_061,X
1198 1466 	pha.w
1199 1467 	psh.w #22
1200 1468 	jsr _imul
1201 1469 	adj #4
1202 1470 	clc
1203 1471 	adc.w 1,S
1204 1472 	sta.w 1,S
1205 1473 	lda.w oldcol_062,X
1206 1474 	asl.w a
1207 1475 	clc
1208 1476 	adc.w 1,S
1209 1477 	sta.w 1,S
1210 1478 	lda #2
1211 1479 	pli
1212 1480 	sta.w 0,I++
1213 1482 	psh.w #foodunits_003
1214 1483 	lda.w oldrow_061,X
1215 1484 	dec.w a
1216 1485 	pha.w
1217 1486 	psh.w #18
1218 1487 	jsr _imul
1219 1488 	adj #4
1220 1489 	clc
1221 1490 	adc.w 1,S
1222 1491 	sta.w 1,S
1223 1492 	lda.w oldcol_062,X
1224 1493 	dec.w a
1225 1494 	asl.w a
1226 1495 	clc
1227 1496 	adc.w 1,S
1228 1497 	sta.w 1,S
1229 1499 	psh.w #foodunits_003
1230 1500 	lda.w newrow_063,X
1231 1501 	dec.w a
1232 1502 	pha.w
1233 1503 	psh.w #18
1234 1504 	jsr _imul
1235 1505 	adj #4
1236 1506 	clc
1237 1507 	adc.w 1,S
1238 1508 	sta.w 1,S
1239 1509 	lda.w newcol_064,X
1240 1510 	dec.w a
1241 1511 	asl.w a
1242 1512 	clc
1243 1513 	adc.w 1,S
1244 1514 	sta.w 1,S
1245 1515 	pli
1246 1516 	lda.w 0,I++
1247 1517 	pli
1248 1518 	sta.w 0,I++
1249 1520 	lda.w numwolves_005
1250 1521 	pha.w
1251 1522 	lda #1
1252 1523 	clc
1253 1524 	adc.w 1,S
1254 1525 	adj #2
1255 1526 	sta.w numwolves_005
1256 1528 	psh.w #S_069
1257 1529 	psh.w #0
1258 1530 	psh.w #3
1259 1531 	jsr _swrite
1260 1532 	adj #6
1261 1533 	lda.w t_008
1262 1534 	pha.w
1263 1535 	lda #4
1264 1536 	pha.w
1265 1537 	jsr _iwrite
1266 1538 	adj #4
1267 1539 	psh.w #S_087
1268 1540 	psh.w #0
1269 1541 	psh.w #16
1270 1542 	jsr _swrite
1271 1543 	adj #6
1272 1545 	lda #91
1273 1546 	pha.w
1274 1547 	psh.w #0
1275 1548 	jsr _cwrite
1276 1549 	adj #4
1277 1550 	lda.w oldrow_061,X
1278 1551 	pha.w
1279 1552 	lda #1
1280 1553 	pha.w
1281 1554 	jsr _iwrite
1282 1555 	adj #4
1283 1556 	psh.w #S_071
1284 1557 	psh.w #0
1285 1558 	psh.w #2
1286 1559 	jsr _swrite
1287 1560 	adj #6
1288 1561 	lda.w oldcol_062,X
1289 1562 	pha.w
1290 1563 	lda #1
1291 1564 	pha.w
1292 1565 	jsr _iwrite
1293 1566 	adj #4
1294 1567 	lda #93
1295 1568 	pha.w
1296 1569 	psh.w #0
1297 1570 	jsr _cwrite
1298 1571 	adj #4
1299 1572 	jsr _writeln
1300 1574 L_086
1301 1576 L_082
1302 1578 L_072
1303 1580 	txs.w
1304 1581 	plx.w
1305 1582 	rts
1306 1583 	.end processwolf_060
1307 1595 oldrow_089	.equ +9
1308 1596 oldcol_090	.equ +7
1309 1597 newrow_091	.equ -1
1310 1598 newcol_092	.equ -3
1311 1599 moved_093	.equ -5
1312 1600 processrabbit_088	.sub
1313 1601 	phx.w
1314 1602 	tsx.w
1315 1603 	adj #-6
1316 1607 	lda #1
1317 1608 	pha.w
1318 1609 	lda.w oldrow_089,X
1319 1610 	pha.w
1320 1611 	lda.w oldcol_090,X
1321 1612 	pha.w
1322 1613 	txa.w
1323 1614 	clc
1324 1615 	adc.w #newrow_091
1325 1616 	pha.w
1326 1617 	txa.w
1327 1618 	clc
1328 1619 	adc.w #newcol_092
1329 1620 	pha.w
1330 1621 	lda.w STATIC_LINK,X
1331 1622 	pha.w
1332 1623 	jsr newlocation_037
1333 1624 	adj #12
1334 1626 	lda.w newrow_091,X
1335 1627 	pha.w
1336 1628 	lda.w oldrow_089,X
1337 1629 	xma.w 1,S
1338 1630 	cmp.w 1,S
1339 1631 	adj #2
1340 1632 	php
1341 1633 	lda #1
1342 1634 	plp
1343 1635 	bne L_094
1344 1636 	lda #0
1345 1637 L_094
1346 1638 	pha.w
1347 1639 	lda.w newcol_092,X
1348 1640 	pha.w
1349 1641 	lda.w oldcol_090,X
1350 1642 	xma.w 1,S
1351 1643 	cmp.w 1,S
1352 1644 	adj #2
1353 1645 	php
1354 1646 	lda #1
1355 1647 	plp
1356 1648 	bne L_095
1357 1649 	lda #0
1358 1650 L_095
1359 1651 	ora.w 1,S
1360 1652 	adj #2
1361 1653 	sta.w moved_093,X
1362 1655 	lda.w moved_093,X
1363 1656 	cmp.w #1
1364 1657 	beq L_096
1365 1658 	jmp L_097
1366 1659 L_096
1367 1661 	psh.w #island_002
1368 1662 	lda.w newrow_091,X
1369 1663 	pha.w
1370 1664 	psh.w #22
1371 1665 	jsr _imul
1372 1666 	adj #4
1373 1667 	clc
1374 1668 	adc.w 1,S
1375 1669 	sta.w 1,S
1376 1670 	lda.w newcol_092,X
1377 1671 	asl.w a
1378 1672 	clc
1379 1673 	adc.w 1,S
1380 1674 	sta.w 1,S
1381 1675 	lda #3
1382 1676 	pli
1383 1677 	sta.w 0,I++
1384 1679 	psh.w #island_002
1385 1680 	lda.w oldrow_089,X
1386 1681 	pha.w
1387 1682 	psh.w #22
1388 1683 	jsr _imul
1389 1684 	adj #4
1390 1685 	clc
1391 1686 	adc.w 1,S
1392 1687 	sta.w 1,S
1393 1688 	lda.w oldcol_090,X
1394 1689 	asl.w a
1395 1690 	clc
1396 1691 	adc.w 1,S
1397 1692 	sta.w 1,S
1398 1693 	lda #4
1399 1694 	pli
1400 1695 	sta.w 0,I++
1401 1697 L_097
1402 1701 	lda.w t_008
1403 1702 	pha.w
1404 1703 	lda #5
1405 1704 	pha.w
1406 1705 	jsr _idiv
1407 1706 	adj #4
1408 1707 	swp a
1409 1708 	pha.w
1410 1709 	lda #0
1411 1710 	xma.w 1,S
1412 1711 	cmp.w 1,S
1413 1712 	adj #2
1414 1713 	php
1415 1714 	lda #1
1416 1715 	plp
1417 1716 	beq L_100
1418 1717 	lda #0
1419 1718 L_100
1420 1719 	cmp.w #1
1421 1720 	beq L_098
1422 1721 	jmp L_099
1423 1722 L_098
1424 1726 	lda.w moved_093,X
1425 1727 	cmp.w #1
1426 1728 	beq L_101
1427 1729 	jmp L_102
1428 1730 L_101
1429 1732 	psh.w #island_002
1430 1733 	lda.w oldrow_089,X
1431 1734 	pha.w
1432 1735 	psh.w #22
1433 1736 	jsr _imul
1434 1737 	adj #4
1435 1738 	clc
1436 1739 	adc.w 1,S
1437 1740 	sta.w 1,S
1438 1741 	lda.w oldcol_090,X
1439 1742 	asl.w a
1440 1743 	clc
1441 1744 	adc.w 1,S
1442 1745 	sta.w 1,S
1443 1746 	lda #3
1444 1747 	pli
1445 1748 	sta.w 0,I++
1446 1750 	lda.w numrabbits_006
1447 1751 	pha.w
1448 1752 	lda #1
1449 1753 	clc
1450 1754 	adc.w 1,S
1451 1755 	adj #2
1452 1756 	sta.w numrabbits_006
1453 1758 	psh.w #S_069
1454 1759 	psh.w #0
1455 1760 	psh.w #3
1456 1761 	jsr _swrite
1457 1762 	adj #6
1458 1763 	lda.w t_008
1459 1764 	pha.w
1460 1765 	lda #4
1461 1766 	pha.w
1462 1767 	jsr _iwrite
1463 1768 	adj #4
1464 1769 	psh.w #S_103
1465 1770 	psh.w #0
1466 1771 	psh.w #18
1467 1772 	jsr _swrite
1468 1773 	adj #6
1469 1775 	lda #91
1470 1776 	pha.w
1471 1777 	psh.w #0
1472 1778 	jsr _cwrite
1473 1779 	adj #4
1474 1780 	lda.w oldrow_089,X
1475 1781 	pha.w
1476 1782 	lda #1
1477 1783 	pha.w
1478 1784 	jsr _iwrite
1479 1785 	adj #4
1480 1786 	psh.w #S_071
1481 1787 	psh.w #0
1482 1788 	psh.w #2
1483 1789 	jsr _swrite
1484 1790 	adj #6
1485 1791 	lda.w oldcol_090,X
1486 1792 	pha.w
1487 1793 	lda #1
1488 1794 	pha.w
1489 1795 	jsr _iwrite
1490 1796 	adj #4
1491 1797 	lda #93
1492 1798 	pha.w
1493 1799 	psh.w #0
1494 1800 	jsr _cwrite
1495 1801 	adj #4
1496 1802 	jsr _writeln
1497 1804 L_102
1498 1806 L_099
1499 1808 	txs.w
1500 1809 	plx.w
1501 1810 	rts
1502 1811 	.end processrabbit_088
1503 1822 row_105	.equ -1
1504 1823 col_106	.equ -3
1505 1824 eventsoccur_104	.sub
1506 1825 	phx.w
1507 1826 	tsx.w
1508 1827 	adj #-4
1509 1831 	lda #1
1510 1832 	sta.w row_105,X
1511 1833 L_107
1512 1834 	lda #9
1513 1835 	cmp.w row_105,X
1514 1836 	bge L_108
1515 1837 	jmp L_109
1516 1838 L_108
1517 1840 	lda #1
1518 1841 	sta.w col_106,X
1519 1842 L_110
1520 1843 	lda #9
1521 1844 	cmp.w col_106,X
1522 1845 	bge L_111
1523 1846 	jmp L_112
1524 1847 L_111
1525 1849 	psh.w #island_002
1526 1850 	lda.w row_105,X
1527 1851 	pha.w
1528 1852 	psh.w #22
1529 1853 	jsr _imul
1530 1854 	adj #4
1531 1855 	clc
1532 1856 	adc.w 1,S
1533 1857 	sta.w 1,S
1534 1858 	lda.w col_106,X
1535 1859 	asl.w a
1536 1860 	clc
1537 1861 	adc.w 1,S
1538 1862 	sta.w 1,S
1539 1863 	pli
1540 1864 	lda.w 0,I++
1541 1865 	pha.w
1542 1866 	lda #0
1543 1867 	xma.w 1,S
1544 1868 	cmp.w 1,S
1545 1869 	adj #2
1546 1870 	php
1547 1871 	lda #1
1548 1872 	plp
1549 1873 	beq L_115
1550 1874 	lda #0
1551 1875 L_115
1552 1876 	cmp.w #1
1553 1877 	beq L_113
1554 1878 	jmp L_114
1555 1879 L_113
1556 1881 	lda.w row_105,X
1557 1882 	pha.w
1558 1883 	lda.w col_106,X
1559 1884 	pha.w
1560 1885 	lda.w STATIC_LINK,X
1561 1886 	pha.w
1562 1887 	jsr processwolf_060
1563 1888 	adj #6
1564 1890 L_114
1565 1892 	inc.w col_106,X
1566 1893 	jmp L_110
1567 1894 L_112
1568 1895 	dec.w col_106,X
1569 1897 	inc.w row_105,X
1570 1898 	jmp L_107
1571 1899 L_109
1572 1900 	dec.w row_105,X
1573 1905 	lda #1
1574 1906 	sta.w row_105,X
1575 1907 L_116
1576 1908 	lda #9
1577 1909 	cmp.w row_105,X
1578 1910 	bge L_117
1579 1911 	jmp L_118
1580 1912 L_117
1581 1914 	lda #1
1582 1915 	sta.w col_106,X
1583 1916 L_119
1584 1917 	lda #9
1585 1918 	cmp.w col_106,X
1586 1919 	bge L_120
1587 1920 	jmp L_121
1588 1921 L_120
1589 1923 	psh.w #island_002
1590 1924 	lda.w row_105,X
1591 1925 	pha.w
1592 1926 	psh.w #22
1593 1927 	jsr _imul
1594 1928 	adj #4
1595 1929 	clc
1596 1930 	adc.w 1,S
1597 1931 	sta.w 1,S
1598 1932 	lda.w col_106,X
1599 1933 	asl.w a
1600 1934 	clc
1601 1935 	adc.w 1,S
1602 1936 	sta.w 1,S
1603 1937 	pli
1604 1938 	lda.w 0,I++
1605 1939 	pha.w
1606 1940 	lda #1
1607 1941 	xma.w 1,S
1608 1942 	cmp.w 1,S
1609 1943 	adj #2
1610 1944 	php
1611 1945 	lda #1
1612 1946 	plp
1613 1947 	beq L_124
1614 1948 	lda #0
1615 1949 L_124
1616 1950 	cmp.w #1
1617 1951 	beq L_122
1618 1952 	jmp L_123
1619 1953 L_122
1620 1955 	lda.w row_105,X
1621 1956 	pha.w
1622 1957 	lda.w col_106,X
1623 1958 	pha.w
1624 1959 	lda.w STATIC_LINK,X
1625 1960 	pha.w
1626 1961 	jsr processrabbit_088
1627 1962 	adj #6
1628 1964 L_123
1629 1966 	inc.w col_106,X
1630 1967 	jmp L_119
1631 1968 L_121
1632 1969 	dec.w col_106,X
1633 1971 	inc.w row_105,X
1634 1972 	jmp L_116
1635 1973 L_118
1636 1974 	dec.w row_105,X
1637 1976 	txs.w
1638 1977 	plx.w
1639 1978 	rts
1640 1979 	.end eventsoccur_104
1641 1991 row_126	.equ -1
1642 1992 col_127	.equ -3
1643 1993 cnts_128	.equ -5
1644 1994 printisland_125	.sub
1645 1995 	phx.w
1646 1996 	tsx.w
1647 1997 	adj #-6
1648 1999 	jsr _writeln
1649 2001 	psh.w #S_069
1650 2002 	psh.w #0
1651 2003 	psh.w #3
1652 2004 	jsr _swrite
1653 2005 	adj #6
1654 2006 	lda.w t_008
1655 2007 	pha.w
1656 2008 	lda #4
1657 2009 	pha.w
1658 2010 	jsr _iwrite
1659 2011 	adj #4
1660 2012 	psh.w #S_129
1661 2013 	psh.w #0
1662 2014 	psh.w #14
1663 2015 	jsr _swrite
1664 2016 	adj #6
1665 2017 	jsr _writeln
1666 2019 	jsr _writeln
1667 2022 	lda #1
1668 2023 	sta.w row_126,X
1669 2024 L_130
1670 2025 	lda #9
1671 2026 	cmp.w row_126,X
1672 2027 	bge L_131
1673 2028 	jmp L_132
1674 2029 L_131
1675 2031 	lda #32
1676 2032 	pha.w
1677 2033 	lda #10
1678 2034 	pha.w
1679 2035 	jsr _cwrite
1680 2036 	adj #4
1681 2038 	lda #1
1682 2039 	sta.w col_127,X
1683 2040 L_133
1684 2041 	lda #9
1685 2042 	cmp.w col_127,X
1686 2043 	bge L_134
1687 2044 	jmp L_135
1688 2045 L_134
1689 2047 	psh.w #island_002
1690 2048 	lda.w row_126,X
1691 2049 	pha.w
1692 2050 	psh.w #22
1693 2051 	jsr _imul
1694 2052 	adj #4
1695 2053 	clc
1696 2054 	adc.w 1,S
1697 2055 	sta.w 1,S
1698 2056 	lda.w col_127,X
1699 2057 	asl.w a
1700 2058 	clc
1701 2059 	adc.w 1,S
1702 2060 	sta.w 1,S
1703 2061 	pli
1704 2062 	lda.w 0,I++
1705 2063 	sta.w cnts_128,X
1706 2065 	lda.w cnts_128,X
1707 2066 	pha.w
1708 2067 	lda #4
1709 2068 	xma.w 1,S
1710 2069 	cmp.w 1,S
1711 2070 	adj #2
1712 2071 	php
1713 2072 	lda #1
1714 2073 	plp
1715 2074 	beq L_138
1716 2075 	lda #0
1717 2076 L_138
1718 2077 	cmp.w #1
1719 2078 	beq L_136
1720 2079 	jmp L_137
1721 2080 L_136
1722 2081 	psh.w #S_139
1723 2082 	psh.w #0
1724 2083 	psh.w #2
1725 2084 	jsr _swrite
1726 2085 	adj #6
1727 2087 	jmp L_140
1728 2088 L_137
1729 2089 	lda.w cnts_128,X
1730 2090 	pha.w
1731 2091 	lda #0
1732 2092 	xma.w 1,S
1733 2093 	cmp.w 1,S
1734 2094 	adj #2
1735 2095 	php
1736 2096 	lda #1
1737 2097 	plp
1738 2098 	beq L_143
1739 2099 	lda #0
1740 2100 L_143
1741 2101 	cmp.w #1
1742 2102 	beq L_141
1743 2103 	jmp L_142
1744 2104 L_141
1745 2105 	psh.w #S_144
1746 2106 	psh.w #0
1747 2107 	psh.w #2
1748 2108 	jsr _swrite
1749 2109 	adj #6
1750 2111 	jmp L_145
1751 2112 L_142
1752 2113 	lda.w cnts_128,X
1753 2114 	pha.w
1754 2115 	lda #1
1755 2116 	xma.w 1,S
1756 2117 	cmp.w 1,S
1757 2118 	adj #2
1758 2119 	php
1759 2120 	lda #1
1760 2121 	plp
1761 2122 	beq L_148
1762 2123 	lda #0
1763 2124 L_148
1764 2125 	cmp.w #1
1765 2126 	beq L_146
1766 2127 	jmp L_147
1767 2128 L_146
1768 2129 	psh.w #S_149
1769 2130 	psh.w #0
1770 2131 	psh.w #2
1771 2132 	jsr _swrite
1772 2133 	adj #6
1773 2135 L_147
1774 2136 L_145
1775 2137 L_140
1776 2138 	inc.w col_127,X
1777 2139 	jmp L_133
1778 2140 L_135
1779 2141 	dec.w col_127,X
1780 2143 	jsr _writeln
1781 2145 	inc.w row_126,X
1782 2146 	jmp L_130
1783 2147 L_132
1784 2148 	dec.w row_126,X
1785 2150 	txs.w
1786 2151 	plx.w
1787 2152 	rts
1788 2153 	.end printisland_125
1789 2165 row_151	.equ -1
1790 2166 col_152	.equ -3
1791 2167 resetisland_150	.sub
1792 2168 	phx.w
1793 2169 	tsx.w
1794 2170 	adj #-4
1795 2172 	lda #1
1796 2173 	sta.w row_151,X
1797 2174 L_153
1798 2175 	lda #9
1799 2176 	cmp.w row_151,X
1800 2177 	bge L_154
1801 2178 	jmp L_155
1802 2179 L_154
1803 2181 	lda #1
1804 2182 	sta.w col_152,X
1805 2183 L_156
1806 2184 	lda #9
1807 2185 	cmp.w col_152,X
1808 2186 	bge L_157
1809 2187 	jmp L_158
1810 2188 L_157
1811 2190 	psh.w #island_002
1812 2191 	lda.w row_151,X
1813 2192 	pha.w
1814 2193 	psh.w #22
1815 2194 	jsr _imul
1816 2195 	adj #4
1817 2196 	clc
1818 2197 	adc.w 1,S
1819 2198 	sta.w 1,S
1820 2199 	lda.w col_152,X
1821 2200 	asl.w a
1822 2201 	clc
1823 2202 	adc.w 1,S
1824 2203 	sta.w 1,S
1825 2204 	pli
1826 2205 	lda.w 0,I++
1827 2206 	pha.w
1828 2207 	lda #2
1829 2208 	xma.w 1,S
1830 2209 	cmp.w 1,S
1831 2210 	adj #2
1832 2211 	php
1833 2212 	lda #1
1834 2213 	plp
1835 2214 	beq L_161
1836 2215 	lda #0
1837 2216 L_161
1838 2217 	cmp.w #1
1839 2218 	beq L_159
1840 2219 	jmp L_160
1841 2220 L_159
1842 2222 	psh.w #island_002
1843 2223 	lda.w row_151,X
1844 2224 	pha.w
1845 2225 	psh.w #22
1846 2226 	jsr _imul
1847 2227 	adj #4
1848 2228 	clc
1849 2229 	adc.w 1,S
1850 2230 	sta.w 1,S
1851 2231 	lda.w col_152,X
1852 2232 	asl.w a
1853 2233 	clc
1854 2234 	adc.w 1,S
1855 2235 	sta.w 1,S
1856 2236 	lda #0
1857 2237 	pli
1858 2238 	sta.w 0,I++
1859 2241 	jmp L_162
1860 2242 L_160
1861 2243 	psh.w #island_002
1862 2244 	lda.w row_151,X
1863 2245 	pha.w
1864 2246 	psh.w #22
1865 2247 	jsr _imul
1866 2248 	adj #4
1867 2249 	clc
1868 2250 	adc.w 1,S
1869 2251 	sta.w 1,S
1870 2252 	lda.w col_152,X
1871 2253 	asl.w a
1872 2254 	clc
1873 2255 	adc.w 1,S
1874 2256 	sta.w 1,S
1875 2257 	pli
1876 2258 	lda.w 0,I++
1877 2259 	pha.w
1878 2260 	lda #3
1879 2261 	xma.w 1,S
1880 2262 	cmp.w 1,S
1881 2263 	adj #2
1882 2264 	php
1883 2265 	lda #1
1884 2266 	plp
1885 2267 	beq L_165
1886 2268 	lda #0
1887 2269 L_165
1888 2270 	cmp.w #1
1889 2271 	beq L_163
1890 2272 	jmp L_164
1891 2273 L_163
1892 2275 	psh.w #island_002
1893 2276 	lda.w row_151,X
1894 2277 	pha.w
1895 2278 	psh.w #22
1896 2279 	jsr _imul
1897 2280 	adj #4
1898 2281 	clc
1899 2282 	adc.w 1,S
1900 2283 	sta.w 1,S
1901 2284 	lda.w col_152,X
1902 2285 	asl.w a
1903 2286 	clc
1904 2287 	adc.w 1,S
1905 2288 	sta.w 1,S
1906 2289 	lda #1
1907 2290 	pli
1908 2291 	sta.w 0,I++
1909 2293 L_164
1910 2294 L_162
1911 2296 	inc.w col_152,X
1912 2297 	jmp L_156
1913 2298 L_158
1914 2299 	dec.w col_152,X
1915 2301 	inc.w row_151,X
1916 2302 	jmp L_153
1917 2303 L_155
1918 2304 	dec.w row_151,X
1919 2306 	txs.w
1920 2307 	plx.w
1921 2308 	rts
1922 2309 	.end resetisland_150
1923 2313 _pc65_main	.sub
1924 2314 	phx.w
1925 2315 	tsx.w
1926 2318 	phx.w
1927 2319 	jsr initialize_013
1928 2320 	adj #2
1929 2323 	lda #0
1930 2324 	sta.w t_008
1931 2326 	lda #1
1932 2327 	sta.w xpt_009
1933 2329 	psh.w #seed_010
1934 2330 	jsr _iread
1935 2331 	pli
1936 2332 	sta.w 0,I++
1937 2335 	phx.w
1938 2336 	jsr printisland_125
1939 2337 	adj #2
1940 2341 L_166
1941 2343 	jsr _writeln
1942 2346 	lda.w t_008
1943 2347 	pha.w
1944 2348 	lda #1
1945 2349 	clc
1946 2350 	adc.w 1,S
1947 2351 	adj #2
1948 2352 	sta.w t_008
1949 2354 	phx.w
1950 2355 	jsr eventsoccur_104
1951 2356 	adj #2
1952 2358 	phx.w
1953 2359 	jsr resetisland_150
1954 2360 	adj #2
1955 2364 	lda.w t_008
1956 2365 	pha.w
1957 2366 	psh.w #printtimes_004
1958 2367 	lda.w xpt_009
1959 2368 	dec.w a
1960 2369 	asl.w a
1961 2370 	clc
1962 2371 	adc.w 1,S
1963 2372 	sta.w 1,S
1964 2373 	pli
1965 2374 	lda.w 0,I++
1966 2375 	xma.w 1,S
1967 2376 	cmp.w 1,S
1968 2377 	adj #2
1969 2378 	php
1970 2379 	lda #1
1971 2380 	plp
1972 2381 	beq L_170
1973 2382 	lda #0
1974 2383 L_170
1975 2384 	cmp.w #1
1976 2385 	beq L_168
1977 2386 	jmp L_169
1978 2387 L_168
1979 2389 	phx.w
1980 2390 	jsr printisland_125
1981 2391 	adj #2
1982 2393 	lda.w xpt_009
1983 2394 	pha.w
1984 2395 	lda #1
1985 2396 	clc
1986 2397 	adc.w 1,S
1987 2398 	adj #2
1988 2399 	sta.w xpt_009
1989 2401 L_169
1990 2403 	lda.w numwolves_005
1991 2404 	pha.w
1992 2405 	lda #0
1993 2406 	xma.w 1,S
1994 2407 	cmp.w 1,S
1995 2408 	adj #2
1996 2409 	php
1997 2410 	lda #1
1998 2411 	plp
1999 2412 	beq L_171
2000 2413 	lda #0
2001 2414 L_171
2002 2415 	pha.w
2003 2416 	lda.w numrabbits_006
2004 2417 	pha.w
2005 2418 	lda #0
2006 2419 	xma.w 1,S
2007 2420 	cmp.w 1,S
2008 2421 	adj #2
2009 2422 	php
2010 2423 	lda #1
2011 2424 	plp
2012 2425 	beq L_172
2013 2426 	lda #0
2014 2427 L_172
2015 2429 	ora.w 1,S
2016 2430 	adj #2
2017 2431 	pha.w
2018 2432 	lda.w xpt_009
2019 2433 	pha.w
2020 2434 	lda.w numprinttimes_007
2021 2435 	xma.w 1,S
2022 2436 	cmp.w 1,S
2023 2437 	adj #2
2024 2438 	php
2025 2439 	lda #1
2026 2440 	plp
2027 2441 	bgt L_173
2028 2442 	lda #0
2029 2443 L_173
2030 2444 	ora.w 1,S
2031 2445 	adj #2
2032 2446 	cmp.w #1
2033 2447 	beq L_167
2034 2448 	jmp L_166
2035 2449 L_167
2036 2452 	phx.w
2037 2453 	jsr printisland_125
2038 2454 	adj #2
2039 2457 	plx.w
2040 2458 	rts
2041 2459 	.end _pc65_main
2042 2461 	.dat
2043 2463 island_002 .byt 242
2044 2464 foodunits_003 .byt 162
2045 2465 printtimes_004 .byt 100
2046 2466 numwolves_005 .byt 2
2047 2467 numrabbits_006 .byt 2
2048 2468 numprinttimes_007 .byt 2
2049 2469 t_008 .byt 2
2050 2470 xpt_009 .byt 2
2051 2471 seed_010 .byt 2
2052 2472 rowoffset_011 .byt 10
2053 2473 coloffset_012 .byt 10
2054 2474 S_149 .str "r "
2055 2475 S_144 .str "W "
2056 2476 S_139 .str ". "
2057 2477 S_129 .str " : Wolf Island"
2058 2478 S_103 .str " : Rabbit born at "
2059 2479 S_087 .str " : Wolf born at "
2060 2480 S_080 .str " : Rabbit eaten at "
2061 2481 S_071 .str ", "
2062 2482 S_070 .str " : Wolf died at "
2063 2483 S_069 .str "t ="
2064 2485 	.end
